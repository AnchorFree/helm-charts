# cortex
Installs [cortex](https://github.com/cortexproject/cortex) cluster atop of Kubernetes

## TL;DR;
You need to have `consul` for storing DHT for ingesters, `postgresql` to use it as backend for `configs` cortex service, chunk storage `aws s3` for example, and index storage `aws dynamodb` for example. With such services `values.yaml` will be:
```yaml
# values.yaml
cortex:
  consul_hostname: "<consul-hostname>:<consul-port>"
  database_uri: "postgres://<db-user>:<db-password>@<db-host>/<db-hostname>?sslmode=disable"
  dynamodb_original_table_name: "cortex"
  dynamodb_periodic_table_from: "2030-01-01" # workaroud because `dynamodb_use_periodic_tables: "false"` doesn't work
  dynamodb_url: "dynamodb://<aws-region>"
  dynamodb_use_periodic_tables: "false"
  dynamodb_v9_schema_from: "2019-01-01"      # enable newest storage schema
  s3_url: "s3://<aws-region>/example-cortex"
```  
Then you can install cortex:
```bash
$ helm install afcharts/cortex -f values.yaml
```

## Introduction
This chart bootstraps a [cortex](https://github.com/cortexproject/cortex) deployment on a [Kubernetes](http://kubernetes.io/) cluster using the [Helm](https://helm.sh/) package manager. The chart can be installed multiple times to create separate cortex instances.

## Prerequisites
* Kubernetes 1.13+
* Helm 2.12+
* Consul 1.0.0+
* Postgresql 10.6+
* Chunk storage (aws, gcp, cassandra, inmemory -- dev mode), tested with AWS S3
* Index storage (aws, gcp, cassandra, inmemory -- dev mode), tested with AWS DynamoDB

## Installing the Chart
To install the chart with the release name my-release:

```bash
$ helm install --name my-release afcharts/cortex -f values.yaml
```
where:
```yaml
# values.yaml
cortex:
  consul_hostname: "<consul-hostname>:<consul-port>"
  database_uri: "postgres://<db-user>:<db-password>@<db-host>/<db-hostname>?sslmode=disable"
  dynamodb_original_table_name: "cortex"
  dynamodb_periodic_table_from: "2030-01-01" # workaroud because `dynamodb_use_periodic_tables: "false"` doesn't work
  dynamodb_url: "dynamodb://<aws-region>"
  dynamodb_use_periodic_tables: "false"
  dynamodb_v9_schema_from: "2019-01-01"      # enable newest storage schema
  s3_url: "s3://<aws-region>/example-cortex"
```

The command deploys Cortex on the Kubernetes cluster. The [configuration](configuration) section lists the parameters that can be configured during installation.

## Uninstalling the Chart
To uninstall/delete the my-release deployment:

```bash
$ helm delete my-release
```

The command removes all the Kubernetes components associated with the chart and deletes the release.

## Configuration
The following tables lists the configurable parameters of the prometheus-operator chart and their default values.

### Cortex
Global parameters for cortex, any of those parameters can be overridden on service level.

#### Chart parameters
| Parameter | Description  | Default |
|-----------|--------------|---------|
| cortex.env | List of global environment variables for all services | `[]` |  
 
#### Application parameters
| Parameter                                                                     | Description                                                                                                                                                                                                                                                                                                                                                                | Default |
|-------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------|
| `cortex.alertmanager_configs_auto_slack_root`                                 | Root of URL to generate if config is internal://monitor                                                                                                                                                                                                                                                                                                                    | `NA`    |
| `cortex.alertmanager_configs_auto_webhook_root`                               | Root of URL to generate if config is http://internal.monitor                                                                                                                                                                                                                                                                                                               | `NA`    |
| `cortex.alertmanager_configs_client_timeout`                                  | Timeout for requests to Weave Cloud configs service. (default 5s)                                                                                                                                                                                                                                                                                                          | `NA`    |
| `cortex.alertmanager_configs_fallback`                                        | Filename of fallback config to use if none specified for instance.                                                                                                                                                                                                                                                                                                         | `NA`    |
| `cortex.alertmanager_configs_poll_interval`                                   | How frequently to poll Cortex configs (default 15s)                                                                                                                                                                                                                                                                                                                        | `NA`    |
| `cortex.alertmanager_configs_url`                                             | URL of configs API server.                                                                                                                                                                                                                                                                                                                                                 | `NA`    |
| `cortex.alertmanager_mesh_hardware_address`                                   | MAC address, i.e. Mesh peer ID (default "02:42:ac:11:00:07")                                                                                                                                                                                                                                                                                                               | `NA`    |
| `cortex.alertmanager_mesh_listen_address`                                     | Mesh listen address (default "0.0.0.0:6783")                                                                                                                                                                                                                                                                                                                               | `NA`    |
| `cortex.alertmanager_mesh_nickname`                                           | Mesh peer nickname (default "a8b1123f5e8f")                                                                                                                                                                                                                                                                                                                                | `NA`    |
| `cortex.alertmanager_mesh_password`                                           | Password to join the Mesh peer network (empty password disables encryption)                                                                                                                                                                                                                                                                                                | `NA`    |
| `cortex.alertmanager_mesh_peer_host`                                          | Hostname for mesh peers.                                                                                                                                                                                                                                                                                                                                                   | `NA`    |
| `cortex.alertmanager_mesh_peer_refresh_interval`                              | Period with which to poll DNS for mesh peers. (default 1m0s)                                                                                                                                                                                                                                                                                                               | `NA`    |
| `cortex.alertmanager_mesh_peer_service`                                       | SRV service used to discover peers. (default "mesh")                                                                                                                                                                                                                                                                                                                       | `NA`    |
| `cortex.alertmanager_storage_path`                                            | Base path for data storage. (default "data/")                                                                                                                                                                                                                                                                                                                              | `NA`    |
| `cortex.alertmanager_storage_retention`                                       | How long to keep data for. (default 120h0m0s)                                                                                                                                                                                                                                                                                                                              | `NA`    |
| `cortex.alertmanager_web_external_url`                                        | The URL under which Alertmanager is externally reachable (for example, if Alertmanager is served via a reverse proxy). Used for generating relative and absolute links back to Alertmanager itself. If the URL has a path portion, it will be used to prefix all HTTP endpoints served by Alertmanager. If omitted, relevant URL components will be derived automatically. | `/api/prom/alertmanager`    |
| `cortex.alsologtostderr`                                                      | log to standard error as well as files                                                                                                                                                                                                                                                                                                                                     | `NA`    |
| `cortex.applicationautoscaling_url`                                           | ApplicationAutoscaling endpoint URL with escaped Key and Secret encoded.                                                                                                                                                                                                                                                                                                   | `NA`    |
| `cortex.bigtable_column_key_from`                                             | The date (in the format YYYY-MM-DD) after which we use bigtable column keys.                                                                                                                                                                                                                                                                                               | `NA`    |
| `cortex.bigtable_grpc_max_recv_msg_size`                                      | gRPC client max receive message size (bytes). (default 104857600)                                                                                                                                                                                                                                                                                                          | `NA`    |
| `cortex.bigtable_grpc_max_send_msg_size`                                      | gRPC client max send message size (bytes). (default 16777216)                                                                                                                                                                                                                                                                                                              | `NA`    |
| `cortex.bigtable_grpc_use_gzip_compression`                                   | Use compression when sending messages.                                                                                                                                                                                                                                                                                                                                     | `NA`    |
| `cortex.bigtable_instance`                                                    | Bigtable instance ID.                                                                                                                                                                                                                                                                                                                                                      | `NA`    |
| `cortex.bigtable_project`                                                     | Bigtable project ID.                                                                                                                                                                                                                                                                                                                                                       | `NA`    |
| `cortex.billing_ingester`                                                     | points to the billing ingester sidecar (should be on localhost) (default "localhost:24225")                                                                                                                                                                                                                                                                                | `NA`    |
| `cortex.billing_max_buffered_events`                                          | Maximum number of billing events to buffer in memory (default 1024)                                                                                                                                                                                                                                                                                                        | `NA`    |
| `cortex.billing_retry_delay`                                                  | How often to retry sending events to the billing ingester. (default 500ms)                                                                                                                                                                                                                                                                                                 | `NA`    |
| `cortex.boltdb_dir`                                                           | Location of BoltDB index files.                                                                                                                                                                                                                                                                                                                                            | `NA`    |
| `cortex.cache_enable_diskcache`                                               | Cache config for chunks. Enable on-disk cache.                                                                                                                                                                                                                                                                                                                             | `NA`    |
| `cortex.cache_enable_fifocache`                                               | Cache config for chunks. Enable in-memory cache.                                                                                                                                                                                                                                                                                                                           | `NA`    |
| `cortex.cassandra_addresses`                                                  | Comma-separated hostnames or ips of Cassandra instances.                                                                                                                                                                                                                                                                                                                   | `NA`    |
| `cortex.cassandra_auth`                                                       | Enable password authentication when connecting to cassandra.                                                                                                                                                                                                                                                                                                               | `NA`    |
| `cortex.cassandra_ca_path`                                                    | Path to certificate file to verify the peer.                                                                                                                                                                                                                                                                                                                               | `NA`    |
| `cortex.cassandra_consistency`                                                | Consistency level for Cassandra. (default "QUORUM")                                                                                                                                                                                                                                                                                                                        | `NA`    |
| `cortex.cassandra_disable_initial_host_lookup`                                | Instruct the cassandra driver to not attempt to get host info from the system.peers table.                                                                                                                                                                                                                                                                                 | `NA`    |
| `cortex.cassandra_host_verification`                                          | Require SSL certificate validation. (default true)                                                                                                                                                                                                                                                                                                                         | `NA`    |
| `cortex.cassandra_keyspace`                                                   | Keyspace to use in Cassandra.                                                                                                                                                                                                                                                                                                                                              | `NA`    |
| `cortex.cassandra_password`                                                   | Password to use when connecting to cassandra.                                                                                                                                                                                                                                                                                                                              | `NA`    |
| `cortex.cassandra_port`                                                       | Port that Cassandra is running on (default 9042)                                                                                                                                                                                                                                                                                                                           | `NA`    |
| `cortex.cassandra_replication_factor`                                         | Replication factor to use in Cassandra. (default 1)                                                                                                                                                                                                                                                                                                                        | `NA`    |
| `cortex.cassandra_ssl`                                                        | Use SSL when connecting to cassandra instances.                                                                                                                                                                                                                                                                                                                            | `NA`    |
| `cortex.cassandra_timeout`                                                    | Timeout when connecting to cassandra. (default 600ms)                                                                                                                                                                                                                                                                                                                      | `NA`    |
| `cortex.cassandra_username`                                                   | Username to use when connecting to cassandra.                                                                                                                                                                                                                                                                                                                              | `NA`    |
| `cortex.chunk_storage_client`                                                 | Which storage client to use (aws, gcp, cassandra, inmemory). (default "aws")                                                                                                                                                                                                                                                                                               | `NA`    |
| `cortex.config_yaml`                                                          | Schema config yaml                                                                                                                                                                                                                                                                                                                                                         | `NA`    |
| `cortex.consul_acltoken`                                                      | ACL Token used to interact with Consul.                                                                                                                                                                                                                                                                                                                                    | `NA`    |
| `cortex.consul_client_timeout`                                                | HTTP timeout when talking to consul (default 20s)                                                                                                                                                                                                                                                                                                                          | `NA`    |
| `cortex.consul_consistent_reads`                                              | Enable consistent reads to consul. (default true)                                                                                                                                                                                                                                                                                                                          | `NA`    |
| `cortex.consul_hostname`                                                      | Hostname and port of Consul. (default "localhost:8500")                                                                                                                                                                                                                                                                                                                    | `NA`    |
| `cortex.consul_prefix`                                                        | Prefix for keys in Consul. (default "collectors/")                                                                                                                                                                                                                                                                                                                         | `NA`    |
| `cortex.database_migrations`                                                  | Path where the database migration files can be found                                                                                                                                                                                                                                                                                                                       | `/migrations` |
| `cortex.database_password_file`                                               | File containing password (username goes in URI)                                                                                                                                                                                                                                                                                                                            | `NA`    |
| `cortex.database_uri`                                                         | URI where the database can be found (for dev you can use memory://) (default "postgres://postgres@configs-db.weave.local/configs?sslmode=disable")                                                                                                                                                                                                                         | `NA`    |
| `cortex.default_validity`                                                     | Cache config for chunks. The default validity of entries for caches unless overridden.                                                                                                                                                                                                                                                                                     | `NA`    |
| `cortex.diskcache_path`                                                       | Cache config for chunks. Path to file used to cache chunks. (default "/var/run/chunks")                                                                                                                                                                                                                                                                                    | `NA`    |
| `cortex.diskcache_size`                                                       | Cache config for chunks. Size of file (bytes) (default 1073741824)                                                                                                                                                                                                                                                                                                         | `NA`    |
| `cortex.distributor_client_cleanup_period`                                    | How frequently to clean up clients for ingesters that have gone away. (default 15s)                                                                                                                                                                                                                                                                                        | `NA`    |
| `cortex.distributor_enable_billing`                                           | Report number of ingested samples to billing system.                                                                                                                                                                                                                                                                                                                       | `NA`    |
| `cortex.distributor_extra_query_delay`                                        | Time to wait before sending more than the minimum successful query requests.                                                                                                                                                                                                                                                                                               | `NA`    |
| `cortex.distributor_health_check_ingesters`                                   | Run a health check on each ingester client during periodic cleanup.                                                                                                                                                                                                                                                                                                        | `NA`    |
| `cortex.distributor_ingestion_burst_size`                                     | Per-user allowed ingestion burst size (in number of samples). Warning, very high limits will be reset every -distributor.limiter-reload-period. (default 50000)                                                                                                                                                                                                            | `NA`    |
| `cortex.distributor_ingestion_rate_limit`                                     | Per-user ingestion rate limit in samples per second. (default 25000)                                                                                                                                                                                                                                                                                                       | `NA`    |
| `cortex.distributor_limiter_reload_period`                                    | Period at which to reload user ingestion limits. (default 5m0s)                                                                                                                                                                                                                                                                                                            | `NA`    |
| `cortex.distributor_remote_timeout`                                           | Timeout for downstream ingesters. (default 2s)                                                                                                                                                                                                                                                                                                                             | `NA`    |
| `cortex.distributor_replication_factor`                                       | The number of ingesters to write to and read from. (default 3)                                                                                                                                                                                                                                                                                                             | `1`     |
| `cortex.distributor_shard_by_all_labels`                                      | Distribute samples based on all labels, as opposed to solely by user and metric name.                                                                                                                                                                                                                                                                                      | `NA`    |
| `cortex.dynamodb_api_limit`                                                   | DynamoDB table management requests per second limit. (default 2)                                                                                                                                                                                                                                                                                                           | `NA`    |
| `cortex.dynamodb_base64_buckets_from`                                         | The date (in the format YYYY-MM-DD) after which we will stop querying to non-base64 encoded values.                                                                                                                                                                                                                                                                        | `NA`    |
| `cortex.dynamodb_chunk_table_enable_ondemand_throughput_mode`                 | Enables on demand througput provisioning for the storage provider (if supported). Applies only to tables which are not autoscaled                                                                                                                                                                                                                                          | `NA`    |
| `cortex.dynamodb_chunk_table_from`                                            | Date after which to write chunks to DynamoDB.                                                                                                                                                                                                                                                                                                                              | `NA`    |
| `cortex.dynamodb_chunk_table_inactive_enable_ondemand_throughput_mode`        | Enables on demand througput provisioning for the storage provider (if supported). Applies only to tables which are not autoscaled                                                                                                                                                                                                                                          | `NA`    |
| `cortex.dynamodb_chunk_table_inactive_read_throughput`                        | DynamoDB table read throughput for inactive tables. (default 300)                                                                                                                                                                                                                                                                                                          | `NA`    |
| `cortex.dynamodb_chunk_table_inactive_read_throughput_scale_last_n`           | Number of last inactive tables to enable read autoscale. (default 4)                                                                                                                                                                                                                                                                                                       | `NA`    |
| `cortex.dynamodb_chunk_table_inactive_read_throughput_scale_enabled`          | Should we enable autoscale for the table.                                                                                                                                                                                                                                                                                                                                  | `NA`    |
| `cortex.dynamodb_chunk_table_inactive_read_throughput_scale_in_cooldown`      | DynamoDB minimum seconds between each autoscale down. (default 1800)                                                                                                                                                                                                                                                                                                       | `NA`    |
| `cortex.dynamodb_chunk_table_inactive_read_throughput_scale_max_capacity`     | DynamoDB maximum provision capacity. (default 6000)                                                                                                                                                                                                                                                                                                                        | `NA`    |
| `cortex.dynamodb_chunk_table_inactive_read_throughput_scale_min_capacity`     | DynamoDB minimum provision capacity. (default 3000)                                                                                                                                                                                                                                                                                                                        | `NA`    |
| `cortex.dynamodb_chunk_table_inactive_read_throughput_scale_out_cooldown`     | DynamoDB minimum seconds between each autoscale up. (default 1800)                                                                                                                                                                                                                                                                                                         | `NA`    |
| `cortex.dynamodb_chunk_table_inactive_read_throughput_scale_role_arn`         | AWS AutoScaling role ARN                                                                                                                                                                                                                                                                                                                                                   | `NA`    |
| `cortex.dynamodb_chunk_table_inactive_read_throughput_scale_target_value`     | DynamoDB target ratio of consumed capacity to provisioned capacity. (default 80)                                                                                                                                                                                                                                                                                           | `NA`    |
| `cortex.dynamodb_chunk_table_inactive_write_throughput`                       | DynamoDB table write throughput for inactive tables. (default 1)                                                                                                                                                                                                                                                                                                           | `NA`    |
| `cortex.dynamodb_chunk_table_inactive_write_throughput_scale_last_n`          | Number of last inactive tables to enable write autoscale. (default 4)                                                                                                                                                                                                                                                                                                      | `NA`    |
| `cortex.dynamodb_chunk_table_inactive_write_throughput_scale_enabled`         | Should we enable autoscale for the table.                                                                                                                                                                                                                                                                                                                                  | `NA`    |
| `cortex.dynamodb_chunk_table_inactive_write_throughput_scale_in_cooldown`     | DynamoDB minimum seconds between each autoscale down. (default 1800)                                                                                                                                                                                                                                                                                                       | `NA`    |
| `cortex.dynamodb_chunk_table_inactive_write_throughput_scale_max_capacity`    | DynamoDB maximum provision capacity. (default 6000)                                                                                                                                                                                                                                                                                                                        | `NA`    |
| `cortex.dynamodb_chunk_table_inactive_write_throughput_scale_min_capacity`    | DynamoDB minimum provision capacity. (default 3000)                                                                                                                                                                                                                                                                                                                        | `NA`    |
| `cortex.dynamodb_chunk_table_inactive_write_throughput_scale_out_cooldown`    | DynamoDB minimum seconds between each autoscale up. (default 1800)                                                                                                                                                                                                                                                                                                         | `NA`    |
| `cortex.dynamodb_chunk_table_inactive_write_throughput_scale_role_arn`        | AWS AutoScaling role ARN                                                                                                                                                                                                                                                                                                                                                   | `NA`    |
| `cortex.dynamodb_chunk_table_inactive_write_throughput_scale_target_value`    | DynamoDB target ratio of consumed capacity to provisioned capacity. (default 80)                                                                                                                                                                                                                                                                                           | `NA`    |
| `cortex.dynamodb_chunk_table_period`                                          | DynamoDB table period. (default 168h0m0s)                                                                                                                                                                                                                                                                                                                                  | `NA`    |
| `cortex.dynamodb_chunk_table_prefix`                                          | DynamoDB table prefix for period tables. (default "cortex_chunks_")                                                                                                                                                                                                                                                                                                        | `NA`    |
| `cortex.dynamodb_chunk_table_read_throughput`                                 | DynamoDB table default read throughput. (default 300)                                                                                                                                                                                                                                                                                                                      | `NA`    |
| `cortex.dynamodb_chunk_table_read_throughput_scale_enabled`                   | Should we enable autoscale for the table.                                                                                                                                                                                                                                                                                                                                  | `NA`    |
| `cortex.dynamodb_chunk_table_read_throughput_scale_in_cooldown`               | DynamoDB minimum seconds between each autoscale down. (default 1800)                                                                                                                                                                                                                                                                                                       | `NA`    |
| `cortex.dynamodb_chunk_table_read_throughput_scale_max_capacity`              | DynamoDB maximum provision capacity. (default 6000)                                                                                                                                                                                                                                                                                                                        | `NA`    |
| `cortex.dynamodb_chunk_table_read_throughput_scale_min_capacity`              | DynamoDB minimum provision capacity. (default 3000)                                                                                                                                                                                                                                                                                                                        | `NA`    |
| `cortex.dynamodb_chunk_table_read_throughput_scale_out_cooldown`              | DynamoDB minimum seconds between each autoscale up. (default 1800)                                                                                                                                                                                                                                                                                                         | `NA`    |
| `cortex.dynamodb_chunk_table_read_throughput_scale_role_arn`                  | AWS AutoScaling role ARN                                                                                                                                                                                                                                                                                                                                                   | `NA`    |
| `cortex.dynamodb_chunk_table_read_throughput_scale_target_value`              | DynamoDB target ratio of consumed capacity to provisioned capacity. (default 80)                                                                                                                                                                                                                                                                                           | `NA`    |
| `cortex.dynamodb_chunk_table_tag`                                             | Tag (of the form key=value) to be added to all tables under management.                                                                                                                                                                                                                                                                                                    | `NA`    |
| `cortex.dynamodb_chunk_table_write_throughput`                                | DynamoDB table default write throughput. (default 3000)                                                                                                                                                                                                                                                                                                                    | `NA`    |
| `cortex.dynamodb_chunk_table_write_throughput_scale_enabled`                  | Should we enable autoscale for the table.                                                                                                                                                                                                                                                                                                                                  | `NA`    |
| `cortex.dynamodb_chunk_table_write_throughput_scale_in_cooldown`              | DynamoDB minimum seconds between each autoscale down. (default 1800)                                                                                                                                                                                                                                                                                                       | `NA`    |
| `cortex.dynamodb_chunk_table_write_throughput_scale_max_capacity`             | DynamoDB maximum provision capacity. (default 6000)                                                                                                                                                                                                                                                                                                                        | `NA`    |
| `cortex.dynamodb_chunk_table_write_throughput_scale_min_capacity`             | DynamoDB minimum provision capacity. (default 3000)                                                                                                                                                                                                                                                                                                                        | `NA`    |
| `cortex.dynamodb_chunk_table_write_throughput_scale_out_cooldown`             | DynamoDB minimum seconds between each autoscale up. (default 1800)                                                                                                                                                                                                                                                                                                         | `NA`    |
| `cortex.dynamodb_chunk_table_write_throughput_scale_role_arn`                 | AWS AutoScaling role ARN                                                                                                                                                                                                                                                                                                                                                   | `NA`    |
| `cortex.dynamodb_chunk_table_write_throughput_scale_target_value`             | DynamoDB target ratio of consumed capacity to provisioned capacity. (default 80)                                                                                                                                                                                                                                                                                           | `NA`    |
| `cortex.dynamodb_chunk_gang_size`                                             | Number of chunks to group together to parallelise fetches (zero to disable) (default 10)                                                                                                                                                                                                                                                                                   | `NA`    |
| `cortex.dynamodb_chunk_get_max_parallelism`                                   | Max number of chunk-get operations to start in parallel (default 32)                                                                                                                                                                                                                                                                                                       | `NA`    |
| `cortex.dynamodb_daily_buckets_from`                                          | The date (in the format YYYY-MM-DD) of the first day for which DynamoDB index buckets should be day-sized vs. hour-sized.                                                                                                                                                                                                                                                  | `NA`    |
| `cortex.dynamodb_max_backoff`                                                 | Maximum backoff time (default 50s)                                                                                                                                                                                                                                                                                                                                         | `NA`    |
| `cortex.dynamodb_max_retries`                                                 | Maximum number of times to retry an operation (default 20)                                                                                                                                                                                                                                                                                                                 | `NA`    |
| `cortex.dynamodb_min_backoff`                                                 | Minimum backoff time (default 100ms)                                                                                                                                                                                                                                                                                                                                       | `NA`    |
| `cortex.dynamodb_original_table_name`                                         | The name of the DynamoDB table used before versioned schemas were introduced. (default "cortex")                                                                                                                                                                                                                                                                           | `NA`    |
| `cortex.dynamodb_periodic_table_enable_ondemand_throughput_mode`              | Enables on demand througput provisioning for the storage provider (if supported). Applies only to tables which are not autoscaled                                                                                                                                                                                                                                          | `NA`    |
| `cortex.dynamodb_periodic_table_from`                                         | Date after which to use periodic tables.                                                                                                                                                                                                                                                                                                                                   | `NA`    |
| `cortex.dynamodb_periodic_table_grace_period`                                 | DynamoDB periodic tables grace period (duration which table will be created/deleted before/after it's needed). (default 10m0s)                                                                                                                                                                                                                                             | `NA`    |
| `cortex.dynamodb_periodic_table_inactive_enable_ondemand_throughput_mode`     | Enables on demand througput provisioning for the storage provider (if supported). Applies only to tables which are not autoscaled                                                                                                                                                                                                                                          | `NA`    |
| `cortex.dynamodb_periodic_table_inactive_read_throughput`                     | DynamoDB table read throughput for inactive tables. (default 300)                                                                                                                                                                                                                                                                                                          | `NA`    |
| `cortex.dynamodb_periodic_table_inactive_read_throughput_scale_last_n`        | Number of last inactive tables to enable read autoscale. (default 4)                                                                                                                                                                                                                                                                                                       | `NA`    |
| `cortex.dynamodb_periodic_table_inactive_read_throughput_scale_enabled`       | Should we enable autoscale for the table.                                                                                                                                                                                                                                                                                                                                  | `NA`    |
| `cortex.dynamodb_periodic_table_inactive_read_throughput_scale_in_cooldown`   | DynamoDB minimum seconds between each autoscale down. (default 1800)                                                                                                                                                                                                                                                                                                       | `NA`    |
| `cortex.dynamodb_periodic_table_inactive_read_throughput_scale_max_capacity`  | DynamoDB maximum provision capacity. (default 6000)                                                                                                                                                                                                                                                                                                                        | `NA`    |
| `cortex.dynamodb_periodic_table_inactive_read_throughput_scale_min_capacity`  | DynamoDB minimum provision capacity. (default 3000)                                                                                                                                                                                                                                                                                                                        | `NA`    |
| `cortex.dynamodb_periodic_table_inactive_read_throughput_scale_out_cooldown`  | DynamoDB minimum seconds between each autoscale up. (default 1800)                                                                                                                                                                                                                                                                                                         | `NA`    |
| `cortex.dynamodb_periodic_table_inactive_read_throughput_scale_role_arn`      | AWS AutoScaling role ARN                                                                                                                                                                                                                                                                                                                                                   | `NA`    |
| `cortex.dynamodb_periodic_table_inactive_read_throughput_scale_target_value`  | DynamoDB target ratio of consumed capacity to provisioned capacity. (default 80)                                                                                                                                                                                                                                                                                           | `NA`    |
| `cortex.dynamodb_periodic_table_inactive_write_throughput`                    | DynamoDB table write throughput for inactive tables. (default 1)                                                                                                                                                                                                                                                                                                           | `NA`    |
| `cortex.dynamodb_periodic_table_inactive_write_throughput_scale_last_n`       | Number of last inactive tables to enable write autoscale. (default 4)                                                                                                                                                                                                                                                                                                      | `NA`    |
| `cortex.dynamodb_periodic_table_inactive_write_throughput_scale_enabled`      | Should we enable autoscale for the table.                                                                                                                                                                                                                                                                                                                                  | `NA`    |
| `cortex.dynamodb_periodic_table_inactive_write_throughput_scale_in_cooldown`  | DynamoDB minimum seconds between each autoscale down. (default 1800)                                                                                                                                                                                                                                                                                                       | `NA`    |
| `cortex.dynamodb_periodic_table_inactive_write_throughput_scale_max_capacity` | DynamoDB maximum provision capacity. (default 6000)                                                                                                                                                                                                                                                                                                                        | `NA`    |
| `cortex.dynamodb_periodic_table_inactive_write_throughput_scale_min_capacity` | DynamoDB minimum provision capacity. (default 3000)                                                                                                                                                                                                                                                                                                                        | `NA`    |
| `cortex.dynamodb_periodic_table_inactive_write_throughput_scale_out_cooldown` | DynamoDB minimum seconds between each autoscale up. (default 1800)                                                                                                                                                                                                                                                                                                         | `NA`    |
| `cortex.dynamodb_periodic_table_inactive_write_throughput_scale_role_arn`     | AWS AutoScaling role ARN                                                                                                                                                                                                                                                                                                                                                   | `NA`    |
| `cortex.dynamodb_periodic_table_inactive_write_throughput_scale_target_value` | DynamoDB target ratio of consumed capacity to provisioned capacity. (default 80)                                                                                                                                                                                                                                                                                           | `NA`    |
| `cortex.dynamodb_periodic_table_period`                                       | DynamoDB table period. (default 168h0m0s)                                                                                                                                                                                                                                                                                                                                  | `NA`    |
| `cortex.dynamodb_periodic_table_prefix`                                       | DynamoDB table prefix for period tables. (default "cortex_")                                                                                                                                                                                                                                                                                                               | `NA`    |
| `cortex.dynamodb_periodic_table_read_throughput`                              | DynamoDB table default read throughput. (default 300)                                                                                                                                                                                                                                                                                                                      | `NA`    |
| `cortex.dynamodb_periodic_table_read_throughput_scale_enabled`                | Should we enable autoscale for the table.                                                                                                                                                                                                                                                                                                                                  | `NA`    |
| `cortex.dynamodb_periodic_table_read_throughput_scale_in_cooldown`            | DynamoDB minimum seconds between each autoscale down. (default 1800)                                                                                                                                                                                                                                                                                                       | `NA`    |
| `cortex.dynamodb_periodic_table_read_throughput_scale_max_capacity`           | DynamoDB maximum provision capacity. (default 6000)                                                                                                                                                                                                                                                                                                                        | `NA`    |
| `cortex.dynamodb_periodic_table_read_throughput_scale_min_capacity`           | DynamoDB minimum provision capacity. (default 3000)                                                                                                                                                                                                                                                                                                                        | `NA`    |
| `cortex.dynamodb_periodic_table_read_throughput_scale_out_cooldown`           | DynamoDB minimum seconds between each autoscale up. (default 1800)                                                                                                                                                                                                                                                                                                         | `NA`    |
| `cortex.dynamodb_periodic_table_read_throughput_scale_role_arn`               | AWS AutoScaling role ARN                                                                                                                                                                                                                                                                                                                                                   | `NA`    |
| `cortex.dynamodb_periodic_table_read_throughput_scale_target_value`           | DynamoDB target ratio of consumed capacity to provisioned capacity. (default 80)                                                                                                                                                                                                                                                                                           | `NA`    |
| `cortex.dynamodb_periodic_table_tag`                                          | Tag (of the form key=value) to be added to all tables under management.                                                                                                                                                                                                                                                                                                    | `NA`    |
| `cortex.dynamodb_periodic_table_write_throughput`                             | DynamoDB table default write throughput. (default 3000)                                                                                                                                                                                                                                                                                                                    | `NA`    |
| `cortex.dynamodb_periodic_table_write_throughput_scale_enabled`               | Should we enable autoscale for the table.                                                                                                                                                                                                                                                                                                                                  | `NA`    |
| `cortex.dynamodb_periodic_table_write_throughput_scale_in_cooldown`           | DynamoDB minimum seconds between each autoscale down. (default 1800)                                                                                                                                                                                                                                                                                                       | `NA`    |
| `cortex.dynamodb_periodic_table_write_throughput_scale_max_capacity`          | DynamoDB maximum provision capacity. (default 6000)                                                                                                                                                                                                                                                                                                                        | `NA`    |
| `cortex.dynamodb_periodic_table_write_throughput_scale_min_capacity`          | DynamoDB minimum provision capacity. (default 3000)                                                                                                                                                                                                                                                                                                                        | `NA`    |
| `cortex.dynamodb_periodic_table_write_throughput_scale_out_cooldown`          | DynamoDB minimum seconds between each autoscale up. (default 1800)                                                                                                                                                                                                                                                                                                         | `NA`    |
| `cortex.dynamodb_periodic_table_write_throughput_scale_role_arn`              | AWS AutoScaling role ARN                                                                                                                                                                                                                                                                                                                                                   | `NA`    |
| `cortex.dynamodb_periodic_table_write_throughput_scale_target_value`          | DynamoDB target ratio of consumed capacity to provisioned capacity. (default 80)                                                                                                                                                                                                                                                                                           | `NA`    |
| `cortex.dynamodb_poll_interval`                                               | How frequently to poll DynamoDB to learn our capacity. (default 2m0s)                                                                                                                                                                                                                                                                                                      | `NA`    |
| `cortex.dynamodb_url`                                                         | DynamoDB endpoint URL with escaped Key and Secret encoded. If only region is specified as a host, proper endpoint will be deduced. Use inmemory:///<table-name> to use a mock in-memory implementation.                                                                                                                                                                    | `NA`    |
| `cortex.dynamodb_use_periodic_tables`                                         | Should we use periodic tables.                                                                                                                                                                                                                                                                                                                                             | `NA`    |
| `cortex.dynamodb_v4_schema_from`                                              | The date (in the format YYYY-MM-DD) after which we enable v4 schema.                                                                                                                                                                                                                                                                                                       | `NA`    |
| `cortex.dynamodb_v5_schema_from`                                              | The date (in the format YYYY-MM-DD) after which we enable v5 schema.                                                                                                                                                                                                                                                                                                       | `NA`    |
| `cortex.dynamodb_v6_schema_from`                                              | The date (in the format YYYY-MM-DD) after which we enable v6 schema.                                                                                                                                                                                                                                                                                                       | `NA`    |
| `cortex.dynamodb_v9_schema_from`                                              | The date (in the format YYYY-MM-DD) after which we enable v9 schema (Series indexing).                                                                                                                                                                                                                                                                                     | `NA`    |
| `cortex.event_sample_rate`                                                    | How often to sample observability events (0 = never).                                                                                                                                                                                                                                                                                                                      | `NA`    |
| `cortex.fifocache_duration`                                                   | Cache config for chunks. The expiry duration for the cache.                                                                                                                                                                                                                                                                                                                | `NA`    |
| `cortex.fifocache_size`                                                       | Cache config for chunks. The number of entries to cache.                                                                                                                                                                                                                                                                                                                   | `NA`    |
| `cortex.frontend_max_cache_freshness`                                         | Most recent allowed cacheable result, to prevent caching very recent results that might still be in flux. (default 1m0s)                                                                                                                                                                                                                                                   | `NA`    |
| `cortex.gcs_bucketname`                                                       | Name of GCS bucket to put chunks in.                                                                                                                                                                                                                                                                                                                                       | `NA`    |
| `cortex.httptest_serve`                                                       | if non-empty, httptest.NewServer serves on this address and blocks                                                                                                                                                                                                                                                                                                         | `NA`    |
| `cortex.ingester_client_expected_labels`                                      | Expected number of labels per timeseries, used for preallocations. (default 20)                                                                                                                                                                                                                                                                                            | `NA`    |
| `cortex.ingester_client_expected_samples_per_series`                          | Expected number of samples per timeseries, used for preallocations. (default 10)                                                                                                                                                                                                                                                                                           | `NA`    |
| `cortex.ingester_client_expected_timeseries`                                  | Expected number of timeseries per request, use for preallocations. (default 100)                                                                                                                                                                                                                                                                                           | `NA`    |
| `cortex.ingester_ID`                                                          | ID to register into consul. (default "097bbb98e94d")                                                                                                                                                                                                                                                                                                                       | `NA`    |
| `cortex.ingester_addr`                                                        | IP address to advertise in consul.                                                                                                                                                                                                                                                                                                                                         | `NA`    |
| `cortex.ingester_chunk_age_jitter`                                            | Range of time to subtract from MaxChunkAge to spread out flushes (default 20m0s)                                                                                                                                                                                                                                                                                           | `NA`    |
| `cortex.ingester_chunk_encoding`                                              | Encoding version to use for chunks. (default 1)                                                                                                                                                                                                                                                                                                                            | `NA`    |
| `cortex.ingester_claim_on_rollout`                                            | Send chunks to PENDING ingesters on exit.                                                                                                                                                                                                                                                                                                                                  | `false`    |
| `cortex.ingester_client_grpc_max_recv_msg_size`                               | gRPC client max receive message size (bytes). (default 104857600)                                                                                                                                                                                                                                                                                                          | `NA`    |
| `cortex.ingester_client_grpc_max_send_msg_size`                               | gRPC client max send message size (bytes). (default 16777216)                                                                                                                                                                                                                                                                                                              | `NA`    |
| `cortex.ingester_client_grpc_use_gzip_compression`                            | Use compression when sending messages.                                                                                                                                                                                                                                                                                                                                     | `NA`    |
| `cortex.ingester_concurrent_flushes`                                          | Number of concurrent goroutines flushing to dynamodb. (default 50)                                                                                                                                                                                                                                                                                                         | `NA`    |
| `cortex.ingester_flush_op_timeout`                                            | Timeout for individual flush operations. (default 1m0s)                                                                                                                                                                                                                                                                                                                    | `NA`    |
| `cortex.ingester_flush_period`                                                | Period with which to attempt to flush chunks. (default 1m0s)                                                                                                                                                                                                                                                                                                               | `NA`    |
| `cortex.ingester_heartbeat_period`                                            | Period at which to heartbeat to consul. (default 5s)                                                                                                                                                                                                                                                                                                                       | `NA`    |
| `cortex.ingester_interface`                                                   | Name of network interface to read address from. (default [eth0 en0])                                                                                                                                                                                                                                                                                                       | `NA`    |
| `cortex.ingester_join_after`                                                  | Period to wait for a claim from another ingester; will join automatically after this.                                                                                                                                                                                                                                                                                      | `30s`    |
| `cortex.ingester_max_chunk_age`                                               | Maximum chunk age before flushing. (default 12h0m0s)                                                                                                                                                                                                                                                                                                                       | `NA`    |
| `cortex.ingester_max_chunk_idle`                                              | Maximum chunk idle time before flushing. (default 5m0s)                                                                                                                                                                                                                                                                                                                    | `NA`    |
| `cortex.ingester_max_concurrent_streams`                                      | Limit on the number of concurrent streams for gRPC calls (0 = unlimited) (default 1000)                                                                                                                                                                                                                                                                                    | `NA`    |
| `cortex.ingester_max_samples_per_query`                                       | The maximum number of samples that a query can return. (default 1000000)                                                                                                                                                                                                                                                                                                   | `NA`    |
| `cortex.ingester_max_series_per_metric`                                       | Maximum number of active series per metric name. (default 50000)                                                                                                                                                                                                                                                                                                           | `NA`    |
| `cortex.ingester_max_series_per_query`                                        | The maximum number of series that a query can return. (default 100000)                                                                                                                                                                                                                                                                                                     | `NA`    |
| `cortex.ingester_max_series_per_user`                                         | Maximum number of active series per user. (default 5000000)                                                                                                                                                                                                                                                                                                                | `NA`    |
| `cortex.ingester_min_ready_duration`                                          | Minimum duration to wait before becoming ready. This is to work around race conditions with ingesters exiting and updating the ring. (default 1m0s)                                                                                                                                                                                                                        | `NA`    |
| `cortex.ingester_normalise_tokens`                                            | Store tokens in a normalised fashion to reduce allocations.                                                                                                                                                                                                                                                                                                                | `NA`    |
| `cortex.ingester_num_tokens`                                                  | Number of tokens for each ingester. (default 128)                                                                                                                                                                                                                                                                                                                          | `NA`    |
| `cortex.ingester_port`                                                        | port to advertise in consul (defaults to server.grpc-listen-port).                                                                                                                                                                                                                                                                                                         | `NA`    |
| `cortex.ingester_rate_update_period`                                          | Period with which to update the per-user ingestion rates. (default 15s)                                                                                                                                                                                                                                                                                                    | `NA`    |
| `cortex.ingester_retain_period`                                               | Period chunks will remain in memory after flushing. (default 5m0s)                                                                                                                                                                                                                                                                                                         | `NA`    |
| `cortex.ingester_search_pending_for`                                          | Time to spend searching for a pending ingester when shutting down. (default 30s)                                                                                                                                                                                                                                                                                           | `NA`    |
| `cortex.limits_per_user_override_config`                                      | File name of per-user overrides.                                                                                                                                                                                                                                                                                                                                           | `NA`    |
| `cortex.limits_per_user_override_period`                                      | Period with this to reload the overrides. (default 10s)                                                                                                                                                                                                                                                                                                                    | `NA`    |
| `cortex.local_chunk_directory`                                                | Directory to store chunks in.                                                                                                                                                                                                                                                                                                                                              | `NA`    |
| `cortex.log_level`                                                            | Only log messages with the given severity or above. Valid levels: [debug, info, warn, error] (default info)                                                                                                                                                                                                                                                                | `"info"`    |
| `cortex.log_backtrace_at`                                                     | when logging hits line file:N, emit a stack trace                                                                                                                                                                                                                                                                                                                          | `NA`    |
| `cortex.log_dir`                                                              | If non-empty, write log files in this directory                                                                                                                                                                                                                                                                                                                            | `NA`    |
| `cortex.logtostderr`                                                          | log to standard error instead of files                                                                                                                                                                                                                                                                                                                                     | `NA`    |
| `cortex.memcache_write_back_buffer`                                           | Cache config for chunks. How many chunks to buffer for background write back. (default 10000)                                                                                                                                                                                                                                                                              | `NA`    |
| `cortex.memcache_write_back_goroutines`                                       | Cache config for chunks. How many goroutines to use to write back to memcache. (default 10)                                                                                                                                                                                                                                                                                | `NA`    |
| `cortex.memcached_batchsize`                                                  | Cache config for chunks. How many keys to fetch in each batch.                                                                                                                                                                                                                                                                                                             | `NA`    |
| `cortex.memcached_expiration`                                                 | Cache config for chunks. How long keys stay in the memcache.                                                                                                                                                                                                                                                                                                               | `NA`    |
| `cortex.memcached_hostname`                                                   | Cache config for chunks. Hostname for memcached service to use when caching chunks. If empty, no memcached will be used.                                                                                                                                                                                                                                                   | `NA`    |
| `cortex.memcached_max_idle_conns`                                             | Cache config for chunks. Maximum number of idle connections in pool. (default 16)                                                                                                                                                                                                                                                                                          | `NA`    |
| `cortex.memcached_parallelism`                                                | Cache config for chunks. Maximum active requests to memcache. (default 100)                                                                                                                                                                                                                                                                                                | `NA`    |
| `cortex.memcached_service`                                                    | Cache config for chunks. SRV service used to discover memcache servers. (default "memcached")                                                                                                                                                                                                                                                                              | `NA`    |
| `cortex.memcached_timeout`                                                    | Cache config for chunks. Maximum time to wait before giving up on memcached requests. (default 100ms)                                                                                                                                                                                                                                                                      | `NA`    |
| `cortex.memcached_update_interval`                                            | Cache config for chunks. Period with which to poll DNS for memcache servers. (default 1m0s)                                                                                                                                                                                                                                                                                | `NA`    |
| `cortex.metrics_error_rate_query`                                             | query to fetch error rates per table (default "sum(rate(cortex_dynamo_failures_total{error="ProvisionedThroughputExceededException",operation=~".*Write.*"}[1m])) by (table) > 0")                                                                                                                                                                                         | `NA`    |
| `cortex.metrics_queue_length_query`                                           | query to fetch ingester queue length (default "sum(avg_over_time(cortex_ingester_flush_queue_length{job="cortex/ingester"}[2m]))")                                                                                                                                                                                                                                         | `NA`    |
| `cortex.metrics_read_error_query`                                             | query to fetch read errors per table (default "sum(increase(cortex_dynamo_failures_total{operation="DynamoDB.QueryPages",error="ProvisionedThroughputExceededException"}[1m])) by (table) > 0")                                                                                                                                                                            | `NA`    |
| `cortex.metrics_read_usage_query`                                             | query to fetch read capacity usage per table (default "sum(rate(cortex_dynamo_consumed_capacity_total{operation="DynamoDB.QueryPages"}[1h])) by (table) > 0")                                                                                                                                                                                                              | `NA`    |
| `cortex.metrics_scale_up_factor`                                              | Scale up capacity by this multiple (default 1.3)                                                                                                                                                                                                                                                                                                                           | `NA`    |
| `cortex.metrics_target_queue_length`                                          | Queue length above which we will scale up capacity (default 100000)                                                                                                                                                                                                                                                                                                        | `NA`    |
| `cortex.metrics_url`                                                          | Use metrics-based autoscaling, via this query URL                                                                                                                                                                                                                                                                                                                          | `NA`    |
| `cortex.metrics_usage_query`                                                  | query to fetch write capacity usage per table (default "sum(rate(cortex_dynamo_consumed_capacity_total{operation="DynamoDB.BatchWriteItem"}[15m])) by (table) > 0")                                                                                                                                                                                                        | `NA`    |
| `cortex.promql_lookback_delta`                                                | Time since the last sample after which a time series is considered stale and ignored by expression evaluations. (default 5m0s)                                                                                                                                                                                                                                             | `NA`    |
| `cortex.querier_align_querier_with_step`                                      | Mutate incoming queries to align their start and end with their step.                                                                                                                                                                                                                                                                                                      | `NA`    |
| `cortex.querier_batch_iterators`                                              | Use batch iterators to execute query, as opposed to fully materialising the series in memory.  Takes precedent over the -querier.iterators flag.                                                                                                                                                                                                                           | `NA`    |
| `cortex.querier_cache_results`                                                | Cache query results.                                                                                                                                                                                                                                                                                                                                                       | `NA`    |
| `cortex.querier_dns_lookup_period`                                            | How often to query DNS. (default 10s)                                                                                                                                                                                                                                                                                                                                      | `NA`    |
| `cortex.querier_frontend_address`                                             | Address of query frontend service.                                                                                                                                                                                                                                                                                                                                         | `NA`    |
| `cortex.querier_frontend_client_grpc_max_recv_msg_size`                       | gRPC client max receive message size (bytes). (default 104857600)                                                                                                                                                                                                                                                                                                          | `NA`    |
| `cortex.querier_frontend_client_grpc_max_send_msg_size`                       | gRPC client max send message size (bytes). (default 16777216)                                                                                                                                                                                                                                                                                                              | `NA`    |
| `cortex.querier_frontend_client_grpc_use_gzip_compression`                    | Use compression when sending messages.                                                                                                                                                                                                                                                                                                                                     | `NA`    |
| `cortex.querier_ingester_streaming`                                           | Use streaming RPCs to query ingester.                                                                                                                                                                                                                                                                                                                                      | `NA`    |
| `cortex.querier_iterators`                                                    | Use iterators to execute query, as opposed to fully materialising the series in memory.                                                                                                                                                                                                                                                                                    | `NA`    |
| `cortex.querier_max_concurrent`                                               | The maximum number of concurrent queries. (default 20)                                                                                                                                                                                                                                                                                                                     | `NA`    |
| `cortex.querier_max_outstanding_requests_per_tenant`                          | Maximum number of outstanding requests per tenant per frontend; requests beyond this error with HTTP 429. (default 100)                                                                                                                                                                                                                                                    | `NA`    |
| `cortex.querier_max_retries_per_request`                                      | Maximum number of retries for a single request; beyond this, the downstream error is returned. (default 5)                                                                                                                                                                                                                                                                 | `NA`    |
| `cortex.querier_max_samples`                                                  | Maximum number of samples a single query can load into memory. (default 50000000)                                                                                                                                                                                                                                                                                          | `NA`    |
| `cortex.querier_query_ingesters_within`                                       | Maximum lookback beyond which queries are not sent to ingester. 0 means all queries are sent to ingester.                                                                                                                                                                                                                                                                  | `NA`    |
| `cortex.querier_query_parallelism`                                            | Max subqueries run in parallel per higher-level query. (default 100)                                                                                                                                                                                                                                                                                                       | `NA`    |
| `cortex.querier_split_queries_by_day`                                         | Split queries by day and execute in parallel.                                                                                                                                                                                                                                                                                                                              | `NA`    |
| `cortex.querier_timeout`                                                      | The timeout for a query. (default 2m0s)                                                                                                                                                                                                                                                                                                                                    | `NA`    |
| `cortex.querier_worker_parallelism`                                           | Number of simultaneous queries to process. (default 10)                                                                                                                                                                                                                                                                                                                    | `NA`    |
| `cortex.query_frontend_max_recv_message_size_bytes`                           | Limit on the size of a grpc message this server can receive. (default 67108864)                                                                                                                                                                                                                                                                                            | `NA`    |
| `cortex.ring_heartbeat_timeout`                                               | The heartbeat timeout after which ingesters are skipped for reads/writes. (default 1m0s)                                                                                                                                                                                                                                                                                   | `NA`    |
| `cortex.ring_store`                                                           | Backend storage to use for the ring (consul, inmemory). (default "consul")                                                                                                                                                                                                                                                                                                 | `NA`    |
| `cortex.ruler_alertmanager_discovery`                                         | Use DNS SRV records to discover alertmanager hosts.                                                                                                                                                                                                                                                                                                                        | `NA`    |
| `cortex.ruler_alertmanager_refresh_interval`                                  | How long to wait between refreshing alertmanager hosts. (default 1m0s)                                                                                                                                                                                                                                                                                                     | `NA`    |
| `cortex.ruler_alertmanager_url`                                               | URL of the Alertmanager to send notifications to.                                                                                                                                                                                                                                                                                                                          | `NA`    |
| `cortex.ruler_evaluation_interval`                                            | How frequently to evaluate rules (default 15s)                                                                                                                                                                                                                                                                                                                             | `NA`    |
| `cortex.ruler_external_url`                                                   | URL of alerts return path.                                                                                                                                                                                                                                                                                                                                                 | `NA`    |
| `cortex.ruler_group_timeout`                                                  | Timeout for rule group evaluation, including sending result to ingester (default 10s)                                                                                                                                                                                                                                                                                      | `NA`    |
| `cortex.ruler_notification_queue_capacity`                                    | Capacity of the queue for notifications to be sent to the Alertmanager. (default 10000)                                                                                                                                                                                                                                                                                    | `NA`    |
| `cortex.ruler_notification_timeout`                                           | HTTP timeout duration when sending notifications to the Alertmanager. (default 10s)                                                                                                                                                                                                                                                                                        | `NA`    |
| `cortex.ruler_num_workers`                                                    | Number of rule evaluator worker routines in this process (default 1)                                                                                                                                                                                                                                                                                                       | `NA`    |
| `cortex.s3_url`                                                               | S3 endpoint URL with escaped Key and Secret encoded. If only region is specified as a host, proper endpoint will be deduced. Use inmemory:///<bucket-name> to use a mock in-memory implementation.                                                                                                                                                                         | `NA`    |
| `cortex.server_graceful_shutdown_timeout`                                     | Timeout for graceful shutdowns (default 30s)                                                                                                                                                                                                                                                                                                                               | `NA`    |
| `cortex.server_grpc_listen_port`                                              | gRPC server listen port. (default 9095)                                                                                                                                                                                                                                                                                                                                    | `NA`    |
| `cortex.server_http_idle_timeout`                                             | Idle timeout for HTTP server (default 2m0s)                                                                                                                                                                                                                                                                                                                                | `NA`    |
| `cortex.server_http_listen_port`                                              | HTTP server listen port. (default 80)                                                                                                                                                                                                                                                                                                                                      | `80`    |
| `cortex.server_http_read_timeout`                                             | Read timeout for HTTP server (default 30s)                                                                                                                                                                                                                                                                                                                                 | `NA`    |
| `cortex.server_http_write_timeout`                                            | Write timeout for HTTP server (default 30s)                                                                                                                                                                                                                                                                                                                                | `NA`    |
| `cortex.server_register_instrumentation`                                      | Register the intrumentation handlers (/metrics etc). (default true)                                                                                                                                                                                                                                                                                                        | `NA`    |
| `cortex.stderrthreshold`                                                      | logs at or above this threshold go to stderr                                                                                                                                                                                                                                                                                                                               | `NA`    |
| `cortex.store_bigchunk_size_cap_bytes`                                        | When using bigchunk encoding, start a new bigchunk if over this size (0 = unlimited)                                                                                                                                                                                                                                                                                       | `NA`    |
| `cortex.store_cache_lookups_older_than`                                       | Cache index entries older than this period. 0 to disable.                                                                                                                                                                                                                                                                                                                  | `NA`    |
| `cortex.store_cardinality_cache_size`                                         | Size of in-memory cardinality cache, 0 to disable.                                                                                                                                                                                                                                                                                                                         | `NA`    |
| `cortex.store_cardinality_cache_validity`                                     | Period for which entries in the cardinality cache are valid. (default 1h0m0s)                                                                                                                                                                                                                                                                                              | `NA`    |
| `cortex.store_cardinality_limit`                                              | Cardinality limit for index queries. (default 100000)                                                                                                                                                                                                                                                                                                                      | `NA`    |
| `cortex.store_fullsize_chunks`                                                | When saving varbit chunks, pad to 1024 bytes (default true)                                                                                                                                                                                                                                                                                                                | `NA`    |
| `cortex.store_index_cache_read_cache_enable_diskcache`                        | Cache config for index entry reading. Enable on-disk cache.                                                                                                                                                                                                                                                                                                                | `NA`    |
| `cortex.store_index_cache_read_cache_enable_fifocache`                        | Cache config for index entry reading. Enable in-memory cache.                                                                                                                                                                                                                                                                                                              | `NA`    |
| `cortex.store_index_cache_read_default_validity`                              | Cache config for index entry reading. The default validity of entries for caches unless overridden.                                                                                                                                                                                                                                                                        | `NA`    |
| `cortex.store_index_cache_read_diskcache_path`                                | Cache config for index entry reading. Path to file used to cache chunks. (default "/var/run/chunks")                                                                                                                                                                                                                                                                       | `NA`    |
| `cortex.store_index_cache_read_diskcache_size`                                | Cache config for index entry reading. Size of file (bytes) (default 1073741824)                                                                                                                                                                                                                                                                                            | `NA`    |
| `cortex.store_index_cache_read_fifocache_duration`                            | Cache config for index entry reading. The expiry duration for the cache.                                                                                                                                                                                                                                                                                                   | `NA`    |
| `cortex.store_index_cache_read_fifocache_size`                                | Cache config for index entry reading. The number of entries to cache.                                                                                                                                                                                                                                                                                                      | `NA`    |
| `cortex.store_index_cache_read_memcache_write_back_buffer`                    | Cache config for index entry reading. How many chunks to buffer for background write back. (default 10000)                                                                                                                                                                                                                                                                 | `NA`    |
| `cortex.store_index_cache_read_memcache_write_back_goroutines`                | Cache config for index entry reading. How many goroutines to use to write back to memcache. (default 10)                                                                                                                                                                                                                                                                   | `NA`    |
| `cortex.store_index_cache_read_memcached_batchsize`                           | Cache config for index entry reading. How many keys to fetch in each batch.                                                                                                                                                                                                                                                                                                | `NA`    |
| `cortex.store_index_cache_read_memcached_expiration`                          | Cache config for index entry reading. How long keys stay in the memcache.                                                                                                                                                                                                                                                                                                  | `NA`    |
| `cortex.store_index_cache_read_memcached_hostname`                            | Cache config for index entry reading. Hostname for memcached service to use when caching chunks. If empty, no memcached will be used.                                                                                                                                                                                                                                      | `NA`    |
| `cortex.store_index_cache_read_memcached_max_idle_conns`                      | Cache config for index entry reading. Maximum number of idle connections in pool. (default 16)                                                                                                                                                                                                                                                                             | `NA`    |
| `cortex.store_index_cache_read_memcached_parallelism`                         | Cache config for index entry reading. Maximum active requests to memcache. (default 100)                                                                                                                                                                                                                                                                                   | `NA`    |
| `cortex.store_index_cache_read_memcached_service`                             | Cache config for index entry reading. SRV service used to discover memcache servers. (default "memcached")                                                                                                                                                                                                                                                                 | `NA`    |
| `cortex.store_index_cache_read_memcached_timeout`                             | Cache config for index entry reading. Maximum time to wait before giving up on memcached requests. (default 100ms)                                                                                                                                                                                                                                                         | `NA`    |
| `cortex.store_index_cache_read_memcached_update_interval`                     | Cache config for index entry reading. Period with which to poll DNS for memcache servers. (default 1m0s)                                                                                                                                                                                                                                                                   | `NA`    |
| `cortex.store_index_cache_validity`                                           | Cache validity for active index entries. Should be no higher than -ingester.max-chunk-idle. (default 5m0s)                                                                                                                                                                                                                                                                 | `NA`    |
| `cortex.store_index_cache_write_cache_enable_diskcache`                       | Cache config for index entry writing. Enable on-disk cache.                                                                                                                                                                                                                                                                                                                | `NA`    |
| `cortex.store_index_cache_write_cache_enable_fifocache`                       | Cache config for index entry writing. Enable in-memory cache.                                                                                                                                                                                                                                                                                                              | `NA`    |
| `cortex.store_index_cache_write_default_validity`                             | Cache config for index entry writing. The default validity of entries for caches unless overridden.                                                                                                                                                                                                                                                                        | `NA`    |
| `cortex.store_index_cache_write_diskcache_path`                               | Cache config for index entry writing. Path to file used to cache chunks. (default "/var/run/chunks")                                                                                                                                                                                                                                                                       | `NA`    |
| `cortex.store_index_cache_write_diskcache_size`                               | Cache config for index entry writing. Size of file (bytes) (default 1073741824)                                                                                                                                                                                                                                                                                            | `NA`    |
| `cortex.store_index_cache_write_fifocache_duration`                           | Cache config for index entry writing. The expiry duration for the cache.                                                                                                                                                                                                                                                                                                   | `NA`    |
| `cortex.store_index_cache_write_fifocache_size`                               | Cache config for index entry writing. The number of entries to cache.                                                                                                                                                                                                                                                                                                      | `NA`    |
| `cortex.store_index_cache_write_memcache_write_back_buffer`                   | Cache config for index entry writing. How many chunks to buffer for background write back. (default 10000)                                                                                                                                                                                                                                                                 | `NA`    |
| `cortex.store_index_cache_write_memcache_write_back_goroutines`               | Cache config for index entry writing. How many goroutines to use to write back to memcache. (default 10)                                                                                                                                                                                                                                                                   | `NA`    |
| `cortex.store_index_cache_write_memcached_batchsize`                          | Cache config for index entry writing. How many keys to fetch in each batch.                                                                                                                                                                                                                                                                                                | `NA`    |
| `cortex.store_index_cache_write_memcached_expiration`                         | Cache config for index entry writing. How long keys stay in the memcache.                                                                                                                                                                                                                                                                                                  | `NA`    |
| `cortex.store_index_cache_write_memcached_hostname`                           | Cache config for index entry writing. Hostname for memcached service to use when caching chunks. If empty, no memcached will be used.                                                                                                                                                                                                                                      | `NA`    |
| `cortex.store_index_cache_write_memcached_max_idle_conns`                     | Cache config for index entry writing. Maximum number of idle connections in pool. (default 16)                                                                                                                                                                                                                                                                             | `NA`    |
| `cortex.store_index_cache_write_memcached_parallelism`                        | Cache config for index entry writing. Maximum active requests to memcache. (default 100)                                                                                                                                                                                                                                                                                   | `NA`    |
| `cortex.store_index_cache_write_memcached_service`                            | Cache config for index entry writing. SRV service used to discover memcache servers. (default "memcached")                                                                                                                                                                                                                                                                 | `NA`    |
| `cortex.store_index_cache_write_memcached_timeout`                            | Cache config for index entry writing. Maximum time to wait before giving up on memcached requests. (default 100ms)                                                                                                                                                                                                                                                         | `NA`    |
| `cortex.store_index_cache_write_memcached_update_interval`                    | Cache config for index entry writing. Period with which to poll DNS for memcache servers. (default 1m0s)                                                                                                                                                                                                                                                                   | `NA`    |
| `cortex.store_max_query_length`                                               | Limit to length of chunk store queries, 0 to disable.                                                                                                                                                                                                                                                                                                                      | `NA`    |
| `cortex.store_min_chunk_age`                                                  | Minimum time between chunk update and being saved to the store.                                                                                                                                                                                                                                                                                                            | `NA`    |
| `cortex.store_query_chunk_limit`                                              | Maximum number of chunks that can be fetched in a single query. (default 2000000)                                                                                                                                                                                                                                                                                          | `NA`    |
| `cortex.table_manager_retention_deletes_enabled`                              | If true, enables retention deletes of DB tables                                                                                                                                                                                                                                                                                                                            | `NA`    |
| `cortex.table_manager_retention_period`                                       | Tables older than this retention period are deleted. Note: This setting is destructive to data!(default: 0, which disables deletion)                                                                                                                                                                                                                                       | `NA`    |
| `cortex.table_manager_throughput_updates_disabled`                            | If true, disable all changes to DB capacity                                                                                                                                                                                                                                                                                                                                | `NA`    |
| `cortex.v`                                                                    | log level for V logs                                                                                                                                                                                                                                                                                                                                                       | `NA`    |
| `cortex.validation_create_grace_period`                                       | Duration which table will be created/deleted before/after it's needed; we won't accept sample from before this time. (default 10m0s)                                                                                                                                                                                                                                       | `NA`    |
| `cortex.validation_max_label_names_per_series`                                | Maximum number of label names per series. (default 30)                                                                                                                                                                                                                                                                                                                     | `NA`    |
| `cortex.validation_max_length_label_name`                                     | Maximum length accepted for label names (default 1024)                                                                                                                                                                                                                                                                                                                     | `NA`    |
| `cortex.validation_max_length_label_value`                                    | Maximum length accepted for label value. This setting also applies to the metric name (default 2048)                                                                                                                                                                                                                                                                       | `NA`    |
| `cortex.validation_reject_old_samples`                                        | Reject old samples.                                                                                                                                                                                                                                                                                                                                                        | `NA`    |
| `cortex.validation_reject_old_samples_max_age`                                | Maximum accepted sample age before rejecting. (default 336h0m0s)                                                                                                                                                                                                                                                                                                           | `NA`    |
| `cortex.vmodule`                                                              | comma-separated list of pattern=N settings for file-filtered logging                                                                                                                                                                                                                                                                                                       | `NA`    |

### Alertmanager

#### Chart parameters
| Parameter | Description  | Default |
|-----------|--------------|---------|
| `alertmanager.env` | List of service level environment variables, overrides `cortex.env` | `[]` |
| `alertmanager.affinity` | Assign the service to run on specific nodes | `{}` |
| `alertmanager.enabled` | Deploy service | `true` |
| `alertmanager.image.repository` | Base image to use for a service deployment | `quay.io/cortexproject/alertmanager` |
| `alertmanager.image.tag` | Tag of service container image to be deployed | `master-89de3b07` |
| `alertmanager.image.pullPolicy` | Pull policy for service image | `IfNotPresent` |
| `alertmanager.nodeSelector` | Define which Nodes the Pods are scheduled on. | `{}` |  
| `alertmanager.replicaCount` | Size is the expected size of the service cluster. | `1` |  
| `alertmanager.service.annotations` | Kubernetes service annotations | `{}` |  
| `alertmanager.service.grcpPort` | gRCP port for the service runs on | `9095` |  
| `alertmanager.service.httpPort` | gRCP port for the service runs on | `80` |  
| `alertmanager.service.type` | Service type | `ClusterIP` |  
| `alertmanager.service.clusterIP` | Cluster IP for service | `` |
| `alertmanager.servicemonitor.enabled` | Enable monitoring of service using prometheus operator | `false` |  
| `alertmanager.servicemonitor.labels` | Servicemonitor labels | `{}` |  
| `alertmanager.servicemonitor.namespace` | Namespace to deploy servicemonitor to | `"{{ .Release.Namespace }}"` |  
| `alertmanager.servicemonitor.port` | Port for servicemonitor | `9090` |  
| `alertmanager.tolerations` | Tolerations for use with node taints | `[]` |
| `alertmanager.resources` | Define resources requests and limits for single Pods | `{}` |  

#### Application parameters
All parameters here override parameters from `cortex.` on service level

| Parameter                                              | Description                                                                                                                                                                                                                                                                                                                                                                | Default |
|--------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------|
| `alertmanager.alertmanager_configs_auto_slack_root`    | Root of URL to generate if config is internal://monitor                                                                                                                                                                                                                                                                                                                    | `NA`    |
| `alertmanager.alertmanager_configs_auto_webhook_root`  | Root of URL to generate if config is http://internal.monitor                                                                                                                                                                                                                                                                                                               | `NA`    |
| `alertmanager.alertmanager_configs_client_timeout`     | Timeout for requests to Weave Cloud configs service. (default 5s)                                                                                                                                                                                                                                                                                                          | `NA`    |
| `alertmanager.alertmanager_configs_fallback`           | Filename of fallback config to use if none specified for instance.                                                                                                                                                                                                                                                                                                         | `NA`    |
| `alertmanager.alertmanager_configs_poll_interval`      | How frequently to poll Cortex configs (default 15s)                                                                                                                                                                                                                                                                                                                        | `NA`    |
| `alertmanager.alertmanager_configs_url`                | URL of configs API server.                                                                                                                                                                                                                                                                                                                                                 | `NA`    |
| `alertmanager.alertmanager_mesh_hardware_address`      | MAC address, i.e. Mesh peer ID (default "02:42:ac:11:00:07")                                                                                                                                                                                                                                                                                                               | `NA`    |
| `alertmanager.alertmanager_mesh_listen_address`        | Mesh listen address (default "0.0.0.0:6783")                                                                                                                                                                                                                                                                                                                               | `NA`    |
| `alertmanager.alertmanager_mesh_nickname`              | Mesh peer nickname (default "a8b1123f5e8f")                                                                                                                                                                                                                                                                                                                                | `NA`    |
| `alertmanager.alertmanager_mesh_password`              | Password to join the Mesh peer network (empty password disables encryption)                                                                                                                                                                                                                                                                                                | `NA`    |
| `alertmanager.alertmanager_mesh_peer_host`             | Hostname for mesh peers.                                                                                                                                                                                                                                                                                                                                                   | `NA`    |
| `alertmanager.alertmanager_mesh_peer_refresh_interval` | Period with which to poll DNS for mesh peers. (default 1m0s)                                                                                                                                                                                                                                                                                                               | `NA`    |
| `alertmanager.alertmanager_mesh_peer_service`          | SRV service used to discover peers. (default "mesh")                                                                                                                                                                                                                                                                                                                       | `NA`    |
| `alertmanager.alertmanager_storage_path`               | Base path for data storage. (default "data/")                                                                                                                                                                                                                                                                                                                              | `NA`    |
| `alertmanager.alertmanager_storage_retention`          | How long to keep data for. (default 120h0m0s)                                                                                                                                                                                                                                                                                                                              | `NA`    |
| `alertmanager.alertmanager_web_external_url`           | The URL under which Alertmanager is externally reachable (for example, if Alertmanager is served via a reverse proxy). Used for generating relative and absolute links back to Alertmanager itself. If the URL has a path portion, it will be used to prefix all HTTP endpoints served by Alertmanager. If omitted, relevant URL components will be derived automatically. | `NA`    |
| `alertmanager.httptest_serve`                          | if non-empty, httptest.NewServer serves on this address and blocks                                                                                                                                                                                                                                                                                                         | `NA`    |
| `alertmanager.log_level`                               | Only log messages with the given severity or above. Valid levels: [debug, info, warn, error] (default info)                                                                                                                                                                                                                                                                | `NA`    |
| `alertmanager.server_graceful_shutdown_timeout`        | Timeout for graceful shutdowns (default 30s)                                                                                                                                                                                                                                                                                                                               | `NA`    |
| `alertmanager.server_grpc_listen_port`                 | gRPC server listen port. (default 9095)                                                                                                                                                                                                                                                                                                                                    | `NA`    |
| `alertmanager.server_http_idle_timeout`                | Idle timeout for HTTP server (default 2m0s)                                                                                                                                                                                                                                                                                                                                | `NA`    |
| `alertmanager.server_http_listen_port`                 | HTTP server listen port. (default 80)                                                                                                                                                                                                                                                                                                                                      | `NA`    |
| `alertmanager.server_http_read_timeout`                | Read timeout for HTTP server (default 30s)                                                                                                                                                                                                                                                                                                                                 | `NA`    |
| `alertmanager.server_http_write_timeout`               | Write timeout for HTTP server (default 30s)                                                                                                                                                                                                                                                                                                                                | `NA`    |
| `alertmanager.server_register_instrumentation`         | Register the intrumentation handlers (/metrics etc). (default true)                                                                                                                                                                                                                                                                                                        | `NA`    |

### Configs

#### Chart parameters
| Parameter | Description  | Default |
|-----------|--------------|---------|
| `configs.env` | List of service level environment variables, overrides `cortex.env` | `[]` |
| `configs.affinity` | Assign the service to run on specific nodes | `{}` |
| `configs.enabled` | Deploy service | `true` |
| `configs.image.repository` | Base image to use for a service deployment | `quay.io/cortexproject/configs` |
| `configs.image.tag` | Tag of service container image to be deployed | `master-89de3b07` |
| `configs.image.pullPolicy` | Pull policy for service image | `IfNotPresent` |
| `configs.nodeSelector` | Define which Nodes the Pods are scheduled on. | `{}` |  
| `configs.replicaCount` | Size is the expected size of the service cluster. | `1` |  
| `configs.service.annotations` | Kubernetes service annotations | `{}` |  
| `configs.service.grcpPort` | gRCP port for the service runs on | `9095` |  
| `configs.service.httpPort` | gRCP port for the service runs on | `80` |  
| `configs.service.type` | Service type | `ClusterIP` |  
| `configs.service.clusterIP` | Cluster IP for service | `` |
| `configs.servicemonitor.enabled` | Enable monitoring of service using prometheus operator | `false` |  
| `configs.servicemonitor.labels` | Servicemonitor labels | `{}` |  
| `configs.servicemonitor.namespace` | Namespace to deploy servicemonitor to | `"{{ .Release.Namespace }}"` |  
| `configs.servicemonitor.port` | Port for servicemonitor | `9090` |  
| `configs.tolerations` | Tolerations for use with node taints | `[]` |
| `configs.resources` | Define resources requests and limits for single Pods | `{}` |  

#### Application parameters
All parameters here override parameters from `cortex.` on service level

| Parameter                                  | Description                                                                                                                                        | Default |
|--------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------|---------|
| `configs.database_migrations`              | Path where the database migration files can be found                                                                                               | `NA`    |
| `configs.database_password_file`           | File containing password (username goes in URI)                                                                                                    | `NA`    |
| `configs.database_uri`                     | URI where the database can be found (for dev you can use memory://) (default "postgres://postgres@configs-db.weave.local/configs?sslmode=disable") | `NA`    |
| `configs.httptest_serve`                   | if non-empty, httptest.NewServer serves on this address and blocks                                                                                 | `NA`    |
| `configs.log_level`                        | Only log messages with the given severity or above. Valid levels: [debug, info, warn, error] (default info)                                        | `NA`    |
| `configs.server_graceful_shutdown_timeout` | Timeout for graceful shutdowns (default 30s)                                                                                                       | `NA`    |
| `configs.server_grpc_listen_port`          | gRPC server listen port. (default 9095)                                                                                                            | `NA`    |
| `configs.server_http_idle_timeout`         | Idle timeout for HTTP server (default 2m0s)                                                                                                        | `NA`    |
| `configs.server_http_listen_port`          | HTTP server listen port. (default 80)                                                                                                              | `NA`    |
| `configs.server_http_read_timeout`         | Read timeout for HTTP server (default 30s)                                                                                                         | `NA`    |
| `configs.server_http_write_timeout`        | Write timeout for HTTP server (default 30s)                                                                                                        | `NA`    |
| `configs.server_register_instrumentation`  | Register the intrumentation handlers (/metrics etc). (default true)                                                                                | `NA`    |

### Distributor

#### Chart parameters
| Parameter | Description  | Default |
|-----------|--------------|---------|
| `distributor.env` | List of service level environment variables, overrides `cortex.env` | `[]` |
| `distributor.affinity` | Assign the service to run on specific nodes | `{}` |
| `distributor.enabled` | Deploy service | `true` |
| `distributor.image.repository` | Base image to use for a service deployment | `quay.io/cortexproject/distributor` |
| `distributor.image.tag` | Tag of service container image to be deployed | `master-89de3b07` |
| `distributor.image.pullPolicy` | Pull policy for service image | `IfNotPresent` |
| `distributor.nodeSelector` | Define which Nodes the Pods are scheduled on. | `{}` |  
| `distributor.replicaCount` | Size is the expected size of the service cluster. | `1` |  
| `distributor.service.annotations` | Kubernetes service annotations | `{}` |  
| `distributor.service.grcpPort` | gRCP port for the service runs on | `9095` |  
| `distributor.service.httpPort` | gRCP port for the service runs on | `80` |  
| `distributor.service.type` | Service type | `ClusterIP` |  
| `distributor.service.clusterIP` | Cluster IP for service | `` |
| `distributor.servicemonitor.enabled` | Enable monitoring of service using prometheus operator | `false` |  
| `distributor.servicemonitor.labels` | Servicemonitor labels | `{}` |  
| `distributor.servicemonitor.namespace` | Namespace to deploy servicemonitor to | `"{{ .Release.Namespace }}"` |  
| `distributor.servicemonitor.port` | Port for servicemonitor | `9090` |  
| `distributor.tolerations` | Tolerations for use with node taints | `[]` |
| `distributor.resources` | Define resources requests and limits for single Pods | `{}` |  

#### Application parameters
All parameters here override parameters from `cortex.` on service level

| Parameter                                                 | Description                                                                                                                                                     | Default |
|-----------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------|---------|
| `distributor.billing_ingester`                            | points to the billing ingester sidecar (should be on localhost) (default "localhost:24225")                                                                     | `NA`    |
| `distributor.billing_max_buffered_events`                 | Maximum number of billing events to buffer in memory (default 1024)                                                                                             | `NA`    |
| `distributor.billing_retry_delay`                         | How often to retry sending events to the billing ingester. (default 500ms)                                                                                      | `NA`    |
| `distributor.consul_acltoken`                             | ACL Token used to interact with Consul.                                                                                                                         | `NA`    |
| `distributor.consul_client_timeout`                       | HTTP timeout when talking to consul (default 20s)                                                                                                               | `NA`    |
| `distributor.consul_consistent_reads`                     | Enable consistent reads to consul. (default true)                                                                                                               | `NA`    |
| `distributor.consul_hostname`                             | Hostname and port of Consul. (default "localhost:8500")                                                                                                         | `NA`    |
| `distributor.consul_prefix`                               | Prefix for keys in Consul. (default "collectors/")                                                                                                              | `NA`    |
| `distributor.distributor_client_cleanup_period`           | How frequently to clean up clients for ingesters that have gone away. (default 15s)                                                                             | `NA`    |
| `distributor.distributor_enable_billing`                  | Report number of ingested samples to billing system.                                                                                                            | `NA`    |
| `distributor.distributor_extra_query_delay`               | Time to wait before sending more than the minimum successful query requests.                                                                                    | `NA`    |
| `distributor.distributor_health_check_ingesters`          | Run a health check on each ingester client during periodic cleanup.                                                                                             | `NA`    |
| `distributor.distributor_ingestion_burst_size`            | Per-user allowed ingestion burst size (in number of samples). Warning, very high limits will be reset every -distributor.limiter-reload-period. (default 50000) | `NA`    |
| `distributor.distributor_ingestion_rate_limit`            | Per-user ingestion rate limit in samples per second. (default 25000)                                                                                            | `NA`    |
| `distributor.distributor_limiter_reload_period`           | Period at which to reload user ingestion limits. (default 5m0s)                                                                                                 | `NA`    |
| `distributor.distributor_remote_timeout`                  | Timeout for downstream ingesters. (default 2s)                                                                                                                  | `NA`    |
| `distributor.distributor_replication_factor`              | The number of ingesters to write to and read from. (default 3)                                                                                                  | `NA`    |
| `distributor.distributor_shard_by_all_labels`             | Distribute samples based on all labels, as opposed to solely by user and metric name.                                                                           | `NA`    |
| `distributor.httptest_serve`                              | if non-empty, httptest.NewServer serves on this address and blocks                                                                                              | `NA`    |
| `distributor.ingester_client_expected_labels`             | Expected number of labels per timeseries, used for preallocations. (default 20)                                                                                 | `NA`    |
| `distributor.ingester_client_expected_samples_per_series` | Expected number of samples per timeseries, used for preallocations. (default 10)                                                                                | `NA`    |
| `distributor.ingester_client_expected_timeseries`         | Expected number of timeseries per request, use for preallocations. (default 100)                                                                                | `NA`    |
| `distributor.ingester_client_grpc_max_recv_msg_size`      | gRPC client max receive message size (bytes). (default 104857600)                                                                                               | `NA`    |
| `distributor.ingester_client_grpc_max_send_msg_size`      | gRPC client max send message size (bytes). (default 16777216)                                                                                                   | `NA`    |
| `distributor.ingester_client_grpc_use_gzip_compression`   | Use compression when sending messages.                                                                                                                          | `NA`    |
| `distributor.ingester_max_samples_per_query`              | The maximum number of samples that a query can return. (default 1000000)                                                                                        | `NA`    |
| `distributor.ingester_max_series_per_metric`              | Maximum number of active series per metric name. (default 50000)                                                                                                | `NA`    |
| `distributor.ingester_max_series_per_query`               | The maximum number of series that a query can return. (default 100000)                                                                                          | `NA`    |
| `distributor.ingester_max_series_per_user`                | Maximum number of active series per user. (default 5000000)                                                                                                     | `NA`    |
| `distributor.limits_per_user_override_config`             | File name of per-user overrides.                                                                                                                                | `NA`    |
| `distributor.limits_per_user_override_period`             | Period with this to reload the overrides. (default 10s)                                                                                                         | `NA`    |
| `distributor.log_level`                                   | Only log messages with the given severity or above. Valid levels: [debug, info, warn, error] (default info)                                                     | `NA`    |
| `distributor.ring_heartbeat_timeout`                      | The heartbeat timeout after which ingesters are skipped for reads/writes. (default 1m0s)                                                                        | `NA`    |
| `distributor.ring_store`                                  | Backend storage to use for the ring (consul, inmemory). (default "consul")                                                                                      | `NA`    |
| `distributor.server_graceful_shutdown_timeout`            | Timeout for graceful shutdowns (default 30s)                                                                                                                    | `NA`    |
| `distributor.server_grpc_listen_port`                     | gRPC server listen port. (default 9095)                                                                                                                         | `NA`    |
| `distributor.server_http_idle_timeout`                    | Idle timeout for HTTP server (default 2m0s)                                                                                                                     | `NA`    |
| `distributor.server_http_listen_port`                     | HTTP server listen port. (default 80)                                                                                                                           | `NA`    |
| `distributor.server_http_read_timeout`                    | Read timeout for HTTP server (default 30s)                                                                                                                      | `NA`    |
| `distributor.server_http_write_timeout`                   | Write timeout for HTTP server (default 30s)                                                                                                                     | `NA`    |
| `distributor.server_register_instrumentation`             | Register the intrumentation handlers (/metrics etc). (default true)                                                                                             | `NA`    |
| `distributor.store_max_query_length`                      | Limit to length of chunk store queries, 0 to disable.                                                                                                           | `NA`    |
| `distributor.store_query_chunk_limit`                     | Maximum number of chunks that can be fetched in a single query. (default 2000000)                                                                               | `NA`    |
| `distributor.validation_create_grace_period`              | Duration which table will be created/deleted before/after it's needed; we won't accept sample from before this time. (default 10m0s)                            | `NA`    |
| `distributor.validation_max_label_names_per_series`       | Maximum number of label names per series. (default 30)                                                                                                          | `NA`    |
| `distributor.validation_max_length_label_name`            | Maximum length accepted for label names (default 1024)                                                                                                          | `NA`    |
| `distributor.validation_max_length_label_value`           | Maximum length accepted for label value. This setting also applies to the metric name (default 2048)                                                            | `NA`    |
| `distributor.validation_reject_old_samples`               | Reject old samples.                                                                                                                                             | `NA`    |
| `distributor.validation_reject_old_samples_max_age`       | Maximum accepted sample age before rejecting. (default 336h0m0s)                                                                                                | `NA`    |

### Ingester

#### Chart parameters
| Parameter | Description  | Default |
|-----------|--------------|---------|
| `ingester.env` | List of service level environment variables, overrides `cortex.env` | `[]` |
| `ingester.affinity` | Assign the service to run on specific nodes | `{}` |
| `ingester.enabled` | Deploy service | `true` |
| `ingester.image.repository` | Base image to use for a service deployment | `quay.io/cortexproject/distributor` |
| `ingester.image.tag` | Tag of service container image to be deployed | `master-89de3b07` |
| `ingester.image.pullPolicy` | Pull policy for service image | `IfNotPresent` |
| `ingester.nodeSelector` | Define which Nodes the Pods are scheduled on. | `{}` |  
| `ingester.replicaCount` | Size is the expected size of the service cluster. | `1` |  
| `ingester.service.annotations` | Kubernetes service annotations | `{}` |  
| `ingester.service.grcpPort` | gRCP port for the service runs on | `9095` |  
| `ingester.service.httpPort` | gRCP port for the service runs on | `80` |  
| `ingester.service.type` | Service type | `ClusterIP` |  
| `ingester.service.clusterIP` | Cluster IP for service | `` |
| `ingester.servicemonitor.enabled` | Enable monitoring of service using prometheus operator | `false` |  
| `ingester.servicemonitor.labels` | Servicemonitor labels | `{}` |  
| `ingester.servicemonitor.namespace` | Namespace to deploy servicemonitor to | `"{{ .Release.Namespace }}"` |  
| `ingester.servicemonitor.port` | Port for servicemonitor | `9090` |  
| `ingester.tolerations` | Tolerations for use with node taints | `[]` |
| `ingester.resources` | Define resources requests and limits for single Pods | `{}` |  

#### Application parameters
All parameters here override parameters from `cortex.` on service level

| Parameter                                                         | Description                                                                                                                                                                                             | Default |
|-------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------|
| `ingester.applicationautoscaling_url`                             | ApplicationAutoscaling endpoint URL with escaped Key and Secret encoded.                                                                                                                                | `NA`    |
| `ingester.bigtable_column_key_from`                               | The date (in the format YYYY-MM-DD) after which we use bigtable column keys.                                                                                                                            | `NA`    |
| `ingester.bigtable_grpc_max_recv_msg_size`                        | gRPC client max receive message size (bytes). (default 104857600)                                                                                                                                       | `NA`    |
| `ingester.bigtable_grpc_max_send_msg_size`                        | gRPC client max send message size (bytes). (default 16777216)                                                                                                                                           | `NA`    |
| `ingester.bigtable_grpc_use_gzip_compression`                     | Use compression when sending messages.                                                                                                                                                                  | `NA`    |
| `ingester.bigtable_instance`                                      | Bigtable instance ID.                                                                                                                                                                                   | `NA`    |
| `ingester.bigtable_project`                                       | Bigtable project ID.                                                                                                                                                                                    | `NA`    |
| `ingester.boltdb_dir`                                             | Location of BoltDB index files.                                                                                                                                                                         | `NA`    |
| `ingester.cache_enable_diskcache`                                 | Cache config for chunks. Enable on-disk cache.                                                                                                                                                          | `NA`    |
| `ingester.cache_enable_fifocache`                                 | Cache config for chunks. Enable in-memory cache.                                                                                                                                                        | `NA`    |
| `ingester.cassandra_addresses`                                    | Comma-separated hostnames or ips of Cassandra instances.                                                                                                                                                | `NA`    |
| `ingester.cassandra_auth`                                         | Enable password authentication when connecting to cassandra.                                                                                                                                            | `NA`    |
| `ingester.cassandra_ca_path`                                      | Path to certificate file to verify the peer.                                                                                                                                                            | `NA`    |
| `ingester.cassandra_consistency`                                  | Consistency level for Cassandra. (default "QUORUM")                                                                                                                                                     | `NA`    |
| `ingester.cassandra_disable_initial_host_lookup`                  | Instruct the cassandra driver to not attempt to get host info from the system.peers table.                                                                                                              | `NA`    |
| `ingester.cassandra_host_verification`                            | Require SSL certificate validation. (default true)                                                                                                                                                      | `NA`    |
| `ingester.cassandra_keyspace`                                     | Keyspace to use in Cassandra.                                                                                                                                                                           | `NA`    |
| `ingester.cassandra_password`                                     | Password to use when connecting to cassandra.                                                                                                                                                           | `NA`    |
| `ingester.cassandra_port`                                         | Port that Cassandra is running on (default 9042)                                                                                                                                                        | `NA`    |
| `ingester.cassandra_replication_factor`                           | Replication factor to use in Cassandra. (default 1)                                                                                                                                                     | `NA`    |
| `ingester.cassandra_ssl`                                          | Use SSL when connecting to cassandra instances.                                                                                                                                                         | `NA`    |
| `ingester.cassandra_timeout`                                      | Timeout when connecting to cassandra. (default 600ms)                                                                                                                                                   | `NA`    |
| `ingester.cassandra_username`                                     | Username to use when connecting to cassandra.                                                                                                                                                           | `NA`    |
| `ingester.chunk_storage_client`                                   | Which storage client to use (aws, gcp, cassandra, inmemory). (default "aws")                                                                                                                            | `NA`    |
| `ingester.config_yaml`                                            | Schema config yaml                                                                                                                                                                                      | `NA`    |
| `ingester.consul_acltoken`                                        | ACL Token used to interact with Consul.                                                                                                                                                                 | `NA`    |
| `ingester.consul_client_timeout`                                  | HTTP timeout when talking to consul (default 20s)                                                                                                                                                       | `NA`    |
| `ingester.consul_consistent_reads`                                | Enable consistent reads to consul. (default true)                                                                                                                                                       | `NA`    |
| `ingester.consul_hostname`                                        | Hostname and port of Consul. (default "localhost:8500")                                                                                                                                                 | `NA`    |
| `ingester.consul_prefix`                                          | Prefix for keys in Consul. (default "collectors/")                                                                                                                                                      | `NA`    |
| `ingester.default_validity`                                       | Cache config for chunks. The default validity of entries for caches unless overridden.                                                                                                                  | `NA`    |
| `ingester.diskcache_path`                                         | Cache config for chunks. Path to file used to cache chunks. (default "/var/run/chunks")                                                                                                                 | `NA`    |
| `ingester.diskcache_size`                                         | Cache config for chunks. Size of file (bytes) (default 1073741824)                                                                                                                                      | `NA`    |
| `ingester.distributor_ingestion_burst_size`                       | Per-user allowed ingestion burst size (in number of samples). Warning, very high limits will be reset every -distributor.limiter-reload-period. (default 50000)                                         | `NA`    |
| `ingester.distributor_ingestion_rate_limit`                       | Per-user ingestion rate limit in samples per second. (default 25000)                                                                                                                                    | `NA`    |
| `ingester.distributor_replication_factor`                         | The number of ingesters to write to and read from. (default 3)                                                                                                                                          | `NA`    |
| `ingester.dynamodb_api_limit`                                     | DynamoDB table management requests per second limit. (default 2)                                                                                                                                        | `NA`    |
| `ingester.dynamodb_base64_buckets_from`                           | The date (in the format YYYY-MM-DD) after which we will stop querying to non-base64 encoded values.                                                                                                     | `NA`    |
| `ingester.dynamodb_chunk_table_from`                              | Date after which to write chunks to DynamoDB.                                                                                                                                                           | `NA`    |
| `ingester.dynamodb_chunk_table_period`                            | DynamoDB table period. (default 168h0m0s)                                                                                                                                                               | `NA`    |
| `ingester.dynamodb_chunk_table_prefix`                            | DynamoDB table prefix for period tables. (default "cortex_chunks_")                                                                                                                                     | `NA`    |
| `ingester.dynamodb_chunk_table_tag`                               | Tag (of the form key=value) to be added to all tables under management.                                                                                                                                 | `NA`    |
| `ingester.dynamodb_chunk_gang_size`                               | Number of chunks to group together to parallelise fetches (zero to disable) (default 10)                                                                                                                | `NA`    |
| `ingester.dynamodb_chunk_get_max_parallelism`                     | Max number of chunk-get operations to start in parallel (default 32)                                                                                                                                    | `NA`    |
| `ingester.dynamodb_daily_buckets_from`                            | The date (in the format YYYY-MM-DD) of the first day for which DynamoDB index buckets should be day-sized vs. hour-sized.                                                                               | `NA`    |
| `ingester.dynamodb_max_backoff`                                   | Maximum backoff time (default 50s)                                                                                                                                                                      | `NA`    |
| `ingester.dynamodb_max_retries`                                   | Maximum number of times to retry an operation (default 20)                                                                                                                                              | `NA`    |
| `ingester.dynamodb_min_backoff`                                   | Minimum backoff time (default 100ms)                                                                                                                                                                    | `NA`    |
| `ingester.dynamodb_original_table_name`                           | The name of the DynamoDB table used before versioned schemas were introduced. (default "cortex")                                                                                                        | `NA`    |
| `ingester.dynamodb_periodic_table_from`                           | Date after which to use periodic tables.                                                                                                                                                                | `NA`    |
| `ingester.dynamodb_periodic_table_period`                         | DynamoDB table period. (default 168h0m0s)                                                                                                                                                               | `NA`    |
| `ingester.dynamodb_periodic_table_prefix`                         | DynamoDB table prefix for period tables. (default "cortex_")                                                                                                                                            | `NA`    |
| `ingester.dynamodb_periodic_table_tag`                            | Tag (of the form key=value) to be added to all tables under management.                                                                                                                                 | `NA`    |
| `ingester.dynamodb_url`                                           | DynamoDB endpoint URL with escaped Key and Secret encoded. If only region is specified as a host, proper endpoint will be deduced. Use inmemory:///<table-name> to use a mock in-memory implementation. | `NA`    |
| `ingester.dynamodb_use_periodic_tables`                           | Should we use periodic tables.                                                                                                                                                                          | `NA`    |
| `ingester.dynamodb_v4_schema_from`                                | The date (in the format YYYY-MM-DD) after which we enable v4 schema.                                                                                                                                    | `NA`    |
| `ingester.dynamodb_v5_schema_from`                                | The date (in the format YYYY-MM-DD) after which we enable v5 schema.                                                                                                                                    | `NA`    |
| `ingester.dynamodb_v6_schema_from`                                | The date (in the format YYYY-MM-DD) after which we enable v6 schema.                                                                                                                                    | `NA`    |
| `ingester.dynamodb_v9_schema_from`                                | The date (in the format YYYY-MM-DD) after which we enable v9 schema (Series indexing).                                                                                                                  | `NA`    |
| `ingester.event_sample_rate`                                      | How often to sample observability events (0 = never).                                                                                                                                                   | `NA`    |
| `ingester.fifocache_duration`                                     | Cache config for chunks. The expiry duration for the cache.                                                                                                                                             | `NA`    |
| `ingester.fifocache_size`                                         | Cache config for chunks. The number of entries to cache.                                                                                                                                                | `NA`    |
| `ingester.gcs_bucketname`                                         | Name of GCS bucket to put chunks in.                                                                                                                                                                    | `NA`    |
| `ingester.httptest_serve`                                         | if non-empty, httptest.NewServer serves on this address and blocks                                                                                                                                      | `NA`    |
| `ingester.ingester_client_expected_labels`                        | Expected number of labels per timeseries, used for preallocations. (default 20)                                                                                                                         | `NA`    |
| `ingester.ingester_client_expected_samples_per_series`            | Expected number of samples per timeseries, used for preallocations. (default 10)                                                                                                                        | `NA`    |
| `ingester.ingester_client_expected_timeseries`                    | Expected number of timeseries per request, use for preallocations. (default 100)                                                                                                                        | `NA`    |
| `ingester.ingester_ID`                                            | ID to register into consul. (default "097bbb98e94d")                                                                                                                                                    | `NA`    |
| `ingester.ingester_addr`                                          | IP address to advertise in consul.                                                                                                                                                                      | `NA`    |
| `ingester.ingester_chunk_age_jitter`                              | Range of time to subtract from MaxChunkAge to spread out flushes (default 20m0s)                                                                                                                        | `NA`    |
| `ingester.ingester_chunk_encoding`                                | Encoding version to use for chunks. (default 1)                                                                                                                                                         | `NA`    |
| `ingester.ingester_claim_on_rollout`                              | Send chunks to PENDING ingesters on exit.                                                                                                                                                               | `NA`    |
| `ingester.ingester_client_grpc_max_recv_msg_size`                 | gRPC client max receive message size (bytes). (default 104857600)                                                                                                                                       | `NA`    |
| `ingester.ingester_client_grpc_max_send_msg_size`                 | gRPC client max send message size (bytes). (default 16777216)                                                                                                                                           | `NA`    |
| `ingester.ingester_client_grpc_use_gzip_compression`              | Use compression when sending messages.                                                                                                                                                                  | `NA`    |
| `ingester.ingester_concurrent_flushes`                            | Number of concurrent goroutines flushing to dynamodb. (default 50)                                                                                                                                      | `NA`    |
| `ingester.ingester_flush_op_timeout`                              | Timeout for individual flush operations. (default 1m0s)                                                                                                                                                 | `NA`    |
| `ingester.ingester_flush_period`                                  | Period with which to attempt to flush chunks. (default 1m0s)                                                                                                                                            | `NA`    |
| `ingester.ingester_heartbeat_period`                              | Period at which to heartbeat to consul. (default 5s)                                                                                                                                                    | `NA`    |
| `ingester.ingester_interface`                                     | Name of network interface to read address from. (default [eth0 en0])                                                                                                                                    | `NA`    |
| `ingester.ingester_join_after`                                    | Period to wait for a claim from another ingester; will join automatically after this.                                                                                                                   | `NA`    |
| `ingester.ingester_max_chunk_age`                                 | Maximum chunk age before flushing. (default 12h0m0s)                                                                                                                                                    | `NA`    |
| `ingester.ingester_max_chunk_idle`                                | Maximum chunk idle time before flushing. (default 5m0s)                                                                                                                                                 | `NA`    |
| `ingester.ingester_max_concurrent_streams`                        | Limit on the number of concurrent streams for gRPC calls (0 = unlimited) (default 1000)                                                                                                                 | `NA`    |
| `ingester.ingester_max_samples_per_query`                         | The maximum number of samples that a query can return. (default 1000000)                                                                                                                                | `NA`    |
| `ingester.ingester_max_series_per_metric`                         | Maximum number of active series per metric name. (default 50000)                                                                                                                                        | `NA`    |
| `ingester.ingester_max_series_per_query`                          | The maximum number of series that a query can return. (default 100000)                                                                                                                                  | `NA`    |
| `ingester.ingester_max_series_per_user`                           | Maximum number of active series per user. (default 5000000)                                                                                                                                             | `NA`    |
| `ingester.ingester_min_ready_duration`                            | Minimum duration to wait before becoming ready. This is to work around race conditions with ingesters exiting and updating the ring. (default 1m0s)                                                     | `NA`    |
| `ingester.ingester_normalise_tokens`                              | Store tokens in a normalised fashion to reduce allocations.                                                                                                                                             | `NA`    |
| `ingester.ingester_num_tokens`                                    | Number of tokens for each ingester. (default 128)                                                                                                                                                       | `NA`    |
| `ingester.ingester_port`                                          | port to advertise in consul (defaults to server.grpc-listen-port).                                                                                                                                      | `NA`    |
| `ingester.ingester_rate_update_period`                            | Period with which to update the per-user ingestion rates. (default 15s)                                                                                                                                 | `NA`    |
| `ingester.ingester_retain_period`                                 | Period chunks will remain in memory after flushing. (default 5m0s)                                                                                                                                      | `NA`    |
| `ingester.ingester_search_pending_for`                            | Time to spend searching for a pending ingester when shutting down. (default 30s)                                                                                                                        | `NA`    |
| `ingester.limits_per_user_override_config`                        | File name of per-user overrides.                                                                                                                                                                        | `NA`    |
| `ingester.limits_per_user_override_period`                        | Period with this to reload the overrides. (default 10s)                                                                                                                                                 | `NA`    |
| `ingester.local_chunk_directory`                                  | Directory to store chunks in.                                                                                                                                                                           | `NA`    |
| `ingester.log_level`                                              | Only log messages with the given severity or above. Valid levels: [debug, info, warn, error] (default info)                                                                                             | `NA`    |
| `ingester.memcache_write_back_buffer`                             | Cache config for chunks. How many chunks to buffer for background write back. (default 10000)                                                                                                           | `NA`    |
| `ingester.memcache_write_back_goroutines`                         | Cache config for chunks. How many goroutines to use to write back to memcache. (default 10)                                                                                                             | `NA`    |
| `ingester.memcached_batchsize`                                    | Cache config for chunks. How many keys to fetch in each batch.                                                                                                                                          | `NA`    |
| `ingester.memcached_expiration`                                   | Cache config for chunks. How long keys stay in the memcache.                                                                                                                                            | `NA`    |
| `ingester.memcached_hostname`                                     | Cache config for chunks. Hostname for memcached service to use when caching chunks. If empty, no memcached will be used.                                                                                | `NA`    |
| `ingester.memcached_max_idle_conns`                               | Cache config for chunks. Maximum number of idle connections in pool. (default 16)                                                                                                                       | `NA`    |
| `ingester.memcached_parallelism`                                  | Cache config for chunks. Maximum active requests to memcache. (default 100)                                                                                                                             | `NA`    |
| `ingester.memcached_service`                                      | Cache config for chunks. SRV service used to discover memcache servers. (default "memcached")                                                                                                           | `NA`    |
| `ingester.memcached_timeout`                                      | Cache config for chunks. Maximum time to wait before giving up on memcached requests. (default 100ms)                                                                                                   | `NA`    |
| `ingester.memcached_update_interval`                              | Cache config for chunks. Period with which to poll DNS for memcache servers. (default 1m0s)                                                                                                             | `NA`    |
| `ingester.metrics_error_rate_query`                               | query to fetch error rates per table (default "sum(rate(cortex_dynamo_failures_total{error="ProvisionedThroughputExceededException",operation=~".*Write.*"}[1m])) by (table) > 0")                      | `NA`    |
| `ingester.metrics_queue_length_query`                             | query to fetch ingester queue length (default "sum(avg_over_time(cortex_ingester_flush_queue_length{job="cortex/ingester"}[2m]))")                                                                      | `NA`    |
| `ingester.metrics_read_error_query`                               | query to fetch read errors per table (default "sum(increase(cortex_dynamo_failures_total{operation="DynamoDB.QueryPages",error="ProvisionedThroughputExceededException"}[1m])) by (table) > 0")         | `NA`    |
| `ingester.metrics_read_usage_query`                               | query to fetch read capacity usage per table (default "sum(rate(cortex_dynamo_consumed_capacity_total{operation="DynamoDB.QueryPages"}[1h])) by (table) > 0")                                           | `NA`    |
| `ingester.metrics_scale_up_factor`                                | Scale up capacity by this multiple (default 1.3)                                                                                                                                                        | `NA`    |
| `ingester.metrics_target_queue_length`                            | Queue length above which we will scale up capacity (default 100000)                                                                                                                                     | `NA`    |
| `ingester.metrics_url`                                            | Use metrics-based autoscaling, via this query URL                                                                                                                                                       | `NA`    |
| `ingester.metrics_usage_query`                                    | query to fetch write capacity usage per table (default "sum(rate(cortex_dynamo_consumed_capacity_total{operation="DynamoDB.BatchWriteItem"}[15m])) by (table) > 0")                                     | `NA`    |
| `ingester.ring_heartbeat_timeout`                                 | The heartbeat timeout after which ingesters are skipped for reads/writes. (default 1m0s)                                                                                                                | `NA`    |
| `ingester.ring_store`                                             | Backend storage to use for the ring (consul, inmemory). (default "consul")                                                                                                                              | `NA`    |
| `ingester.s3_url`                                                 | S3 endpoint URL with escaped Key and Secret encoded. If only region is specified as a host, proper endpoint will be deduced. Use inmemory:///<bucket-name> to use a mock in-memory implementation.      | `NA`    |
| `ingester.server_graceful_shutdown_timeout`                       | Timeout for graceful shutdowns (default 30s)                                                                                                                                                            | `NA`    |
| `ingester.server_grpc_listen_port`                                | gRPC server listen port. (default 9095)                                                                                                                                                                 | `9095`    |
| `ingester.server_http_idle_timeout`                               | Idle timeout for HTTP server (default 2m0s)                                                                                                                                                             | `NA`    |
| `ingester.server_http_listen_port`                                | HTTP server listen port. (default 80)                                                                                                                                                                   | `NA`    |
| `ingester.server_http_read_timeout`                               | Read timeout for HTTP server (default 30s)                                                                                                                                                              | `NA`    |
| `ingester.server_http_write_timeout`                              | Write timeout for HTTP server (default 30s)                                                                                                                                                             | `NA`    |
| `ingester.server_register_instrumentation`                        | Register the intrumentation handlers (/metrics etc). (default true)                                                                                                                                     | `NA`    |
| `ingester.store_bigchunk_size_cap_bytes`                          | When using bigchunk encoding, start a new bigchunk if over this size (0 = unlimited)                                                                                                                    | `NA`    |
| `ingester.store_cache_lookups_older_than`                         | Cache index entries older than this period. 0 to disable.                                                                                                                                               | `NA`    |
| `ingester.store_cardinality_cache_size`                           | Size of in-memory cardinality cache, 0 to disable.                                                                                                                                                      | `NA`    |
| `ingester.store_cardinality_cache_validity`                       | Period for which entries in the cardinality cache are valid. (default 1h0m0s)                                                                                                                           | `NA`    |
| `ingester.store_cardinality_limit`                                | Cardinality limit for index queries. (default 100000)                                                                                                                                                   | `NA`    |
| `ingester.store_fullsize_chunks`                                  | When saving varbit chunks, pad to 1024 bytes (default true)                                                                                                                                             | `NA`    |
| `ingester.store_index_cache_read_cache_enable_diskcache`          | Cache config for index entry reading. Enable on-disk cache.                                                                                                                                             | `NA`    |
| `ingester.store_index_cache_read_cache_enable_fifocache`          | Cache config for index entry reading. Enable in-memory cache.                                                                                                                                           | `NA`    |
| `ingester.store_index_cache_read_default_validity`                | Cache config for index entry reading. The default validity of entries for caches unless overridden.                                                                                                     | `NA`    |
| `ingester.store_index_cache_read_diskcache_path`                  | Cache config for index entry reading. Path to file used to cache chunks. (default "/var/run/chunks")                                                                                                    | `NA`    |
| `ingester.store_index_cache_read_diskcache_size`                  | Cache config for index entry reading. Size of file (bytes) (default 1073741824)                                                                                                                         | `NA`    |
| `ingester.store_index_cache_read_fifocache_duration`              | Cache config for index entry reading. The expiry duration for the cache.                                                                                                                                | `NA`    |
| `ingester.store_index_cache_read_fifocache_size`                  | Cache config for index entry reading. The number of entries to cache.                                                                                                                                   | `NA`    |
| `ingester.store_index_cache_read_memcache_write_back_buffer`      | Cache config for index entry reading. How many chunks to buffer for background write back. (default 10000)                                                                                              | `NA`    |
| `ingester.store_index_cache_read_memcache_write_back_goroutines`  | Cache config for index entry reading. How many goroutines to use to write back to memcache. (default 10)                                                                                                | `NA`    |
| `ingester.store_index_cache_read_memcached_batchsize`             | Cache config for index entry reading. How many keys to fetch in each batch.                                                                                                                             | `NA`    |
| `ingester.store_index_cache_read_memcached_expiration`            | Cache config for index entry reading. How long keys stay in the memcache.                                                                                                                               | `NA`    |
| `ingester.store_index_cache_read_memcached_hostname`              | Cache config for index entry reading. Hostname for memcached service to use when caching chunks. If empty, no memcached will be used.                                                                   | `NA`    |
| `ingester.store_index_cache_read_memcached_max_idle_conns`        | Cache config for index entry reading. Maximum number of idle connections in pool. (default 16)                                                                                                          | `NA`    |
| `ingester.store_index_cache_read_memcached_parallelism`           | Cache config for index entry reading. Maximum active requests to memcache. (default 100)                                                                                                                | `NA`    |
| `ingester.store_index_cache_read_memcached_service`               | Cache config for index entry reading. SRV service used to discover memcache servers. (default "memcached")                                                                                              | `NA`    |
| `ingester.store_index_cache_read_memcached_timeout`               | Cache config for index entry reading. Maximum time to wait before giving up on memcached requests. (default 100ms)                                                                                      | `NA`    |
| `ingester.store_index_cache_read_memcached_update_interval`       | Cache config for index entry reading. Period with which to poll DNS for memcache servers. (default 1m0s)                                                                                                | `NA`    |
| `ingester.store_index_cache_validity`                             | Cache validity for active index entries. Should be no higher than -ingester.max-chunk-idle. (default 5m0s)                                                                                              | `NA`    |
| `ingester.store_index_cache_write_cache_enable_diskcache`         | Cache config for index entry writing. Enable on-disk cache.                                                                                                                                             | `NA`    |
| `ingester.store_index_cache_write_cache_enable_fifocache`         | Cache config for index entry writing. Enable in-memory cache.                                                                                                                                           | `NA`    |
| `ingester.store_index_cache_write_default_validity`               | Cache config for index entry writing. The default validity of entries for caches unless overridden.                                                                                                     | `NA`    |
| `ingester.store_index_cache_write_diskcache_path`                 | Cache config for index entry writing. Path to file used to cache chunks. (default "/var/run/chunks")                                                                                                    | `NA`    |
| `ingester.store_index_cache_write_diskcache_size`                 | Cache config for index entry writing. Size of file (bytes) (default 1073741824)                                                                                                                         | `NA`    |
| `ingester.store_index_cache_write_fifocache_duration`             | Cache config for index entry writing. The expiry duration for the cache.                                                                                                                                | `NA`    |
| `ingester.store_index_cache_write_fifocache_size`                 | Cache config for index entry writing. The number of entries to cache.                                                                                                                                   | `NA`    |
| `ingester.store_index_cache_write_memcache_write_back_buffer`     | Cache config for index entry writing. How many chunks to buffer for background write back. (default 10000)                                                                                              | `NA`    |
| `ingester.store_index_cache_write_memcache_write_back_goroutines` | Cache config for index entry writing. How many goroutines to use to write back to memcache. (default 10)                                                                                                | `NA`    |
| `ingester.store_index_cache_write_memcached_batchsize`            | Cache config for index entry writing. How many keys to fetch in each batch.                                                                                                                             | `NA`    |
| `ingester.store_index_cache_write_memcached_expiration`           | Cache config for index entry writing. How long keys stay in the memcache.                                                                                                                               | `NA`    |
| `ingester.store_index_cache_write_memcached_hostname`             | Cache config for index entry writing. Hostname for memcached service to use when caching chunks. If empty, no memcached will be used.                                                                   | `NA`    |
| `ingester.store_index_cache_write_memcached_max_idle_conns`       | Cache config for index entry writing. Maximum number of idle connections in pool. (default 16)                                                                                                          | `NA`    |
| `ingester.store_index_cache_write_memcached_parallelism`          | Cache config for index entry writing. Maximum active requests to memcache. (default 100)                                                                                                                | `NA`    |
| `ingester.store_index_cache_write_memcached_service`              | Cache config for index entry writing. SRV service used to discover memcache servers. (default "memcached")                                                                                              | `NA`    |
| `ingester.store_index_cache_write_memcached_timeout`              | Cache config for index entry writing. Maximum time to wait before giving up on memcached requests. (default 100ms)                                                                                      | `NA`    |
| `ingester.store_index_cache_write_memcached_update_interval`      | Cache config for index entry writing. Period with which to poll DNS for memcache servers. (default 1m0s)                                                                                                | `NA`    |
| `ingester.store_max_query_length`                                 | Limit to length of chunk store queries, 0 to disable.                                                                                                                                                   | `NA`    |
| `ingester.store_min_chunk_age`                                    | Minimum time between chunk update and being saved to the store.                                                                                                                                         | `NA`    |
| `ingester.store_query_chunk_limit`                                | Maximum number of chunks that can be fetched in a single query. (default 2000000)                                                                                                                       | `NA`    |
| `ingester.validation_create_grace_period`                         | Duration which table will be created/deleted before/after it's needed; we won't accept sample from before this time. (default 10m0s)                                                                    | `NA`    |
| `ingester.validation_max_label_names_per_series`                  | Maximum number of label names per series. (default 30)                                                                                                                                                  | `NA`    |
| `ingester.validation_max_length_label_name`                       | Maximum length accepted for label names (default 1024)                                                                                                                                                  | `NA`    |
| `ingester.validation_max_length_label_value`                      | Maximum length accepted for label value. This setting also applies to the metric name (default 2048)                                                                                                    | `NA`    |
| `ingester.validation_reject_old_samples`                          | Reject old samples.                                                                                                                                                                                     | `NA`    |
| `ingester.validation_reject_old_samples_max_age`                  | Maximum accepted sample age before rejecting. (default 336h0m0s)                                                                                                                                        | `NA`    |

### Querier

#### Chart parameters
| Parameter | Description  | Default |
|-----------|--------------|---------|
| `querier.env` | List of service level environment variables, overrides `cortex.env` | `[]` |
| `querier.affinity` | Assign the service to run on specific nodes | `{}` |
| `querier.enabled` | Deploy service | `true` |
| `querier.image.repository` | Base image to use for a service deployment | `quay.io/cortexproject/querier` |
| `querier.image.tag` | Tag of service container image to be deployed | `master-89de3b07` |
| `querier.image.pullPolicy` | Pull policy for service image | `IfNotPresent` |
| `querier.nodeSelector` | Define which Nodes the Pods are scheduled on. | `{}` |  
| `querier.replicaCount` | Size is the expected size of the service cluster. | `1` |  
| `querier.service.annotations` | Kubernetes service annotations | `{}` |  
| `querier.service.grcpPort` | gRCP port for the service runs on | `9095` |  
| `querier.service.httpPort` | gRCP port for the service runs on | `80` |  
| `querier.service.type` | Service type | `ClusterIP` |  
| `querier.service.clusterIP` | Cluster IP for service | `` |
| `querier.servicemonitor.enabled` | Enable monitoring of service using prometheus operator | `false` |  
| `querier.servicemonitor.labels` | Servicemonitor labels | `{}` |  
| `querier.servicemonitor.namespace` | Namespace to deploy servicemonitor to | `"{{ .Release.Namespace }}"` |  
| `querier.servicemonitor.port` | Port for servicemonitor | `9090` |  
| `querier.tolerations` | Tolerations for use with node taints | `[]` |
| `querier.resources` | Define resources requests and limits for single Pods | `{}` |  

#### Application parameters
All parameters here override parameters from `cortex.` on service level

| Parameter                                                        | Description                                                                                                                                                                                             | Default |
|------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------|
| `querier.alsologtostderr`                                        | log to standard error as well as files                                                                                                                                                                  | `NA`    |
| `querier.applicationautoscaling_url`                             | ApplicationAutoscaling endpoint URL with escaped Key and Secret encoded.                                                                                                                                | `NA`    |
| `querier.bigtable_column_key_from`                               | The date (in the format YYYY-MM-DD) after which we use bigtable column keys.                                                                                                                            | `NA`    |
| `querier.bigtable_grpc_max_recv_msg_size`                        | gRPC client max receive message size (bytes). (default 104857600)                                                                                                                                       | `NA`    |
| `querier.bigtable_grpc_max_send_msg_size`                        | gRPC client max send message size (bytes). (default 16777216)                                                                                                                                           | `NA`    |
| `querier.bigtable_grpc_use_gzip_compression`                     | Use compression when sending messages.                                                                                                                                                                  | `NA`    |
| `querier.bigtable_instance`                                      | Bigtable instance ID.                                                                                                                                                                                   | `NA`    |
| `querier.bigtable_project`                                       | Bigtable project ID.                                                                                                                                                                                    | `NA`    |
| `querier.billing_ingester`                                       | points to the billing ingester sidecar (should be on localhost) (default "localhost:24225")                                                                                                             | `NA`    |
| `querier.billing_max_buffered_events`                            | Maximum number of billing events to buffer in memory (default 1024)                                                                                                                                     | `NA`    |
| `querier.billing_retry_delay`                                    | How often to retry sending events to the billing ingester. (default 500ms)                                                                                                                              | `NA`    |
| `querier.boltdb_dir`                                             | Location of BoltDB index files.                                                                                                                                                                         | `NA`    |
| `querier.cache_enable_diskcache`                                 | Cache config for chunks. Enable on-disk cache.                                                                                                                                                          | `NA`    |
| `querier.cache_enable_fifocache`                                 | Cache config for chunks. Enable in-memory cache.                                                                                                                                                        | `NA`    |
| `querier.cassandra_addresses`                                    | Comma-separated hostnames or ips of Cassandra instances.                                                                                                                                                | `NA`    |
| `querier.cassandra_auth`                                         | Enable password authentication when connecting to cassandra.                                                                                                                                            | `NA`    |
| `querier.cassandra_ca_path`                                      | Path to certificate file to verify the peer.                                                                                                                                                            | `NA`    |
| `querier.cassandra_consistency`                                  | Consistency level for Cassandra. (default "QUORUM")                                                                                                                                                     | `NA`    |
| `querier.cassandra_disable_initial_host_lookup`                  | Instruct the cassandra driver to not attempt to get host info from the system.peers table.                                                                                                              | `NA`    |
| `querier.cassandra_host_verification`                            | Require SSL certificate validation. (default true)                                                                                                                                                      | `NA`    |
| `querier.cassandra_keyspace`                                     | Keyspace to use in Cassandra.                                                                                                                                                                           | `NA`    |
| `querier.cassandra_password`                                     | Password to use when connecting to cassandra.                                                                                                                                                           | `NA`    |
| `querier.cassandra_port`                                         | Port that Cassandra is running on (default 9042)                                                                                                                                                        | `NA`    |
| `querier.cassandra_replication_factor`                           | Replication factor to use in Cassandra. (default 1)                                                                                                                                                     | `NA`    |
| `querier.cassandra_ssl`                                          | Use SSL when connecting to cassandra instances.                                                                                                                                                         | `NA`    |
| `querier.cassandra_timeout`                                      | Timeout when connecting to cassandra. (default 600ms)                                                                                                                                                   | `NA`    |
| `querier.cassandra_username`                                     | Username to use when connecting to cassandra.                                                                                                                                                           | `NA`    |
| `querier.chunk_storage_client`                                   | Which storage client to use (aws, gcp, cassandra, inmemory). (default "aws")                                                                                                                            | `NA`    |
| `querier.config_yaml`                                            | Schema config yaml                                                                                                                                                                                      | `NA`    |
| `querier.consul_acltoken`                                        | ACL Token used to interact with Consul.                                                                                                                                                                 | `NA`    |
| `querier.consul_client_timeout`                                  | HTTP timeout when talking to consul (default 20s)                                                                                                                                                       | `NA`    |
| `querier.consul_consistent_reads`                                | Enable consistent reads to consul. (default true)                                                                                                                                                       | `NA`    |
| `querier.consul_hostname`                                        | Hostname and port of Consul. (default "localhost:8500")                                                                                                                                                 | `NA`    |
| `querier.consul_prefix`                                          | Prefix for keys in Consul. (default "collectors/")                                                                                                                                                      | `NA`    |
| `querier.default_validity`                                       | Cache config for chunks. The default validity of entries for caches unless overridden.                                                                                                                  | `NA`    |
| `querier.diskcache_path`                                         | Cache config for chunks. Path to file used to cache chunks. (default "/var/run/chunks")                                                                                                                 | `NA`    |
| `querier.diskcache_size`                                         | Cache config for chunks. Size of file (bytes) (default 1073741824)                                                                                                                                      | `NA`    |
| `querier.distributor_client_cleanup_period`                      | How frequently to clean up clients for ingesters that have gone away. (default 15s)                                                                                                                     | `NA`    |
| `querier.distributor_enable_billing`                             | Report number of ingested samples to billing system.                                                                                                                                                    | `NA`    |
| `querier.distributor_extra_query_delay`                          | Time to wait before sending more than the minimum successful query requests.                                                                                                                            | `NA`    |
| `querier.distributor_health_check_ingesters`                     | Run a health check on each ingester client during periodic cleanup.                                                                                                                                     | `NA`    |
| `querier.distributor_ingestion_burst_size`                       | Per-user allowed ingestion burst size (in number of samples). Warning, very high limits will be reset every -distributor.limiter-reload-period. (default 50000)                                         | `NA`    |
| `querier.distributor_ingestion_rate_limit`                       | Per-user ingestion rate limit in samples per second. (default 25000)                                                                                                                                    | `NA`    |
| `querier.distributor_limiter_reload_period`                      | Period at which to reload user ingestion limits. (default 5m0s)                                                                                                                                         | `NA`    |
| `querier.distributor_remote_timeout`                             | Timeout for downstream ingesters. (default 2s)                                                                                                                                                          | `NA`    |
| `querier.distributor_replication_factor`                         | The number of ingesters to write to and read from. (default 3)                                                                                                                                          | `NA`    |
| `querier.distributor_shard_by_all_labels`                        | Distribute samples based on all labels, as opposed to solely by user and metric name.                                                                                                                   | `NA`    |
| `querier.dynamodb_api_limit`                                     | DynamoDB table management requests per second limit. (default 2)                                                                                                                                        | `NA`    |
| `querier.dynamodb_base64_buckets_from`                           | The date (in the format YYYY-MM-DD) after which we will stop querying to non-base64 encoded values.                                                                                                     | `NA`    |
| `querier.dynamodb_chunk_table_from`                              | Date after which to write chunks to DynamoDB.                                                                                                                                                           | `NA`    |
| `querier.dynamodb_chunk_table_period`                            | DynamoDB table period. (default 168h0m0s)                                                                                                                                                               | `NA`    |
| `querier.dynamodb_chunk_table_prefix`                            | DynamoDB table prefix for period tables. (default "cortex_chunks_")                                                                                                                                     | `NA`    |
| `querier.dynamodb_chunk_table_tag`                               | Tag (of the form key=value) to be added to all tables under management.                                                                                                                                 | `NA`    |
| `querier.dynamodb_chunk_gang_size`                               | Number of chunks to group together to parallelise fetches (zero to disable) (default 10)                                                                                                                | `NA`    |
| `querier.dynamodb_chunk_get_max_parallelism`                     | Max number of chunk-get operations to start in parallel (default 32)                                                                                                                                    | `NA`    |
| `querier.dynamodb_daily_buckets_from`                            | The date (in the format YYYY-MM-DD) of the first day for which DynamoDB index buckets should be day-sized vs. hour-sized.                                                                               | `NA`    |
| `querier.dynamodb_max_backoff`                                   | Maximum backoff time (default 50s)                                                                                                                                                                      | `NA`    |
| `querier.dynamodb_max_retries`                                   | Maximum number of times to retry an operation (default 20)                                                                                                                                              | `NA`    |
| `querier.dynamodb_min_backoff`                                   | Minimum backoff time (default 100ms)                                                                                                                                                                    | `NA`    |
| `querier.dynamodb_original_table_name`                           | The name of the DynamoDB table used before versioned schemas were introduced. (default "cortex")                                                                                                        | `NA`    |
| `querier.dynamodb_periodic_table_from`                           | Date after which to use periodic tables.                                                                                                                                                                | `NA`    |
| `querier.dynamodb_periodic_table_period`                         | DynamoDB table period. (default 168h0m0s)                                                                                                                                                               | `NA`    |
| `querier.dynamodb_periodic_table_prefix`                         | DynamoDB table prefix for period tables. (default "cortex_")                                                                                                                                            | `NA`    |
| `querier.dynamodb_periodic_table_tag`                            | Tag (of the form key=value) to be added to all tables under management.                                                                                                                                 | `NA`    |
| `querier.dynamodb_url`                                           | DynamoDB endpoint URL with escaped Key and Secret encoded. If only region is specified as a host, proper endpoint will be deduced. Use inmemory:///<table-name> to use a mock in-memory implementation. | `NA`    |
| `querier.dynamodb_use_periodic_tables`                           | Should we use periodic tables.                                                                                                                                                                          | `NA`    |
| `querier.dynamodb_v4_schema_from`                                | The date (in the format YYYY-MM-DD) after which we enable v4 schema.                                                                                                                                    | `NA`    |
| `querier.dynamodb_v5_schema_from`                                | The date (in the format YYYY-MM-DD) after which we enable v5 schema.                                                                                                                                    | `NA`    |
| `querier.dynamodb_v6_schema_from`                                | The date (in the format YYYY-MM-DD) after which we enable v6 schema.                                                                                                                                    | `NA`    |
| `querier.dynamodb_v9_schema_from`                                | The date (in the format YYYY-MM-DD) after which we enable v9 schema (Series indexing).                                                                                                                  | `NA`    |
| `querier.fifocache_duration`                                     | Cache config for chunks. The expiry duration for the cache.                                                                                                                                             | `NA`    |
| `querier.fifocache_size`                                         | Cache config for chunks. The number of entries to cache.                                                                                                                                                | `NA`    |
| `querier.gcs_bucketname`                                         | Name of GCS bucket to put chunks in.                                                                                                                                                                    | `NA`    |
| `querier.httptest_serve`                                         | if non-empty, httptest.NewServer serves on this address and blocks                                                                                                                                      | `NA`    |
| `querier.ingester_client_grpc_max_recv_msg_size`                 | gRPC client max receive message size (bytes). (default 104857600)                                                                                                                                       | `NA`    |
| `querier.ingester_client_grpc_max_send_msg_size`                 | gRPC client max send message size (bytes). (default 16777216)                                                                                                                                           | `NA`    |
| `querier.ingester_client_grpc_use_gzip_compression`              | Use compression when sending messages.                                                                                                                                                                  | `NA`    |
| `querier.ingester_max_samples_per_query`                         | The maximum number of samples that a query can return. (default 1000000)                                                                                                                                | `NA`    |
| `querier.ingester_max_series_per_metric`                         | Maximum number of active series per metric name. (default 50000)                                                                                                                                        | `NA`    |
| `querier.ingester_max_series_per_query`                          | The maximum number of series that a query can return. (default 100000)                                                                                                                                  | `NA`    |
| `querier.ingester_max_series_per_user`                           | Maximum number of active series per user. (default 5000000)                                                                                                                                             | `NA`    |
| `querier.limits_per_user_override_config`                        | File name of per-user overrides.                                                                                                                                                                        | `NA`    |
| `querier.limits_per_user_override_period`                        | Period with this to reload the overrides. (default 10s)                                                                                                                                                 | `NA`    |
| `querier.local_chunk_directory`                                  | Directory to store chunks in.                                                                                                                                                                           | `NA`    |
| `querier.log_level`                                              | Only log messages with the given severity or above. Valid levels: [debug, info, warn, error] (default info)                                                                                             | `NA`    |
| `querier.log_backtrace_at`                                       | when logging hits line file:N, emit a stack trace                                                                                                                                                       | `NA`    |
| `querier.log_dir`                                                | If non-empty, write log files in this directory                                                                                                                                                         | `NA`    |
| `querier.logtostderr`                                            | log to standard error instead of files                                                                                                                                                                  | `NA`    |
| `querier.memcache_write_back_buffer`                             | Cache config for chunks. How many chunks to buffer for background write back. (default 10000)                                                                                                           | `NA`    |
| `querier.memcache_write_back_goroutines`                         | Cache config for chunks. How many goroutines to use to write back to memcache. (default 10)                                                                                                             | `NA`    |
| `querier.memcached_batchsize`                                    | Cache config for chunks. How many keys to fetch in each batch.                                                                                                                                          | `NA`    |
| `querier.memcached_expiration`                                   | Cache config for chunks. How long keys stay in the memcache.                                                                                                                                            | `NA`    |
| `querier.memcached_hostname`                                     | Cache config for chunks. Hostname for memcached service to use when caching chunks. If empty, no memcached will be used.                                                                                | `NA`    |
| `querier.memcached_max_idle_conns`                               | Cache config for chunks. Maximum number of idle connections in pool. (default 16)                                                                                                                       | `NA`    |
| `querier.memcached_parallelism`                                  | Cache config for chunks. Maximum active requests to memcache. (default 100)                                                                                                                             | `NA`    |
| `querier.memcached_service`                                      | Cache config for chunks. SRV service used to discover memcache servers. (default "memcached")                                                                                                           | `NA`    |
| `querier.memcached_timeout`                                      | Cache config for chunks. Maximum time to wait before giving up on memcached requests. (default 100ms)                                                                                                   | `NA`    |
| `querier.memcached_update_interval`                              | Cache config for chunks. Period with which to poll DNS for memcache servers. (default 1m0s)                                                                                                             | `NA`    |
| `querier.metrics_error_rate_query`                               | query to fetch error rates per table (default "sum(rate(cortex_dynamo_failures_total{error="ProvisionedThroughputExceededException",operation=~".*Write.*"}[1m])) by (table) > 0")                      | `NA`    |
| `querier.metrics_queue_length_query`                             | query to fetch ingester queue length (default "sum(avg_over_time(cortex_ingester_flush_queue_length{job="cortex/ingester"}[2m]))")                                                                      | `NA`    |
| `querier.metrics_read_error_query`                               | query to fetch read errors per table (default "sum(increase(cortex_dynamo_failures_total{operation="DynamoDB.QueryPages",error="ProvisionedThroughputExceededException"}[1m])) by (table) > 0")         | `NA`    |
| `querier.metrics_read_usage_query`                               | query to fetch read capacity usage per table (default "sum(rate(cortex_dynamo_consumed_capacity_total{operation="DynamoDB.QueryPages"}[1h])) by (table) > 0")                                           | `NA`    |
| `querier.metrics_scale_up_factor`                                | Scale up capacity by this multiple (default 1.3)                                                                                                                                                        | `NA`    |
| `querier.metrics_target_queue_length`                            | Queue length above which we will scale up capacity (default 100000)                                                                                                                                     | `NA`    |
| `querier.metrics_url`                                            | Use metrics-based autoscaling, via this query URL                                                                                                                                                       | `NA`    |
| `querier.metrics_usage_query`                                    | query to fetch write capacity usage per table (default "sum(rate(cortex_dynamo_consumed_capacity_total{operation="DynamoDB.BatchWriteItem"}[15m])) by (table) > 0")                                     | `NA`    |
| `querier.promql_lookback_delta`                                  | Time since the last sample after which a time series is considered stale and ignored by expression evaluations. (default 5m0s)                                                                          | `NA`    |
| `querier.querier_batch_iterators`                                | Use batch iterators to execute query, as opposed to fully materialising the series in memory.  Takes precedent over the -querier.iterators flag.                                                        | `NA`    |
| `querier.querier_dns_lookup_period`                              | How often to query DNS. (default 10s)                                                                                                                                                                   | `NA`    |
| `querier.querier_frontend_address`                               | Address of query frontend service.                                                                                                                                                                      | `NA`    |
| `querier.querier_frontend_client_grpc_max_recv_msg_size`         | gRPC client max receive message size (bytes). (default 104857600)                                                                                                                                       | `NA`    |
| `querier.querier_frontend_client_grpc_max_send_msg_size`         | gRPC client max send message size (bytes). (default 16777216)                                                                                                                                           | `NA`    |
| `querier.querier_frontend_client_grpc_use_gzip_compression`      | Use compression when sending messages.                                                                                                                                                                  | `NA`    |
| `querier.querier_ingester_streaming`                             | Use streaming RPCs to query ingester.                                                                                                                                                                   | `NA`    |
| `querier.querier_iterators`                                      | Use iterators to execute query, as opposed to fully materialising the series in memory.                                                                                                                 | `NA`    |
| `querier.querier_max_concurrent`                                 | The maximum number of concurrent queries. (default 20)                                                                                                                                                  | `NA`    |
| `querier.querier_max_samples`                                    | Maximum number of samples a single query can load into memory. (default 50000000)                                                                                                                       | `NA`    |
| `querier.querier_query_ingesters_within`                         | Maximum lookback beyond which queries are not sent to ingester. 0 means all queries are sent to ingester.                                                                                               | `NA`    |
| `querier.querier_query_parallelism`                              | Max subqueries run in parallel per higher-level query. (default 100)                                                                                                                                    | `NA`    |
| `querier.querier_timeout`                                        | The timeout for a query. (default 2m0s)                                                                                                                                                                 | `NA`    |
| `querier.querier_worker_parallelism`                             | Number of simultaneous queries to process. (default 10)                                                                                                                                                 | `NA`    |
| `querier.ring_heartbeat_timeout`                                 | The heartbeat timeout after which ingesters are skipped for reads/writes. (default 1m0s)                                                                                                                | `NA`    |
| `querier.ring_store`                                             | Backend storage to use for the ring (consul, inmemory). (default "consul")                                                                                                                              | `NA`    |
| `querier.s3_url`                                                 | S3 endpoint URL with escaped Key and Secret encoded. If only region is specified as a host, proper endpoint will be deduced. Use inmemory:///<bucket-name> to use a mock in-memory implementation.      | `NA`    |
| `querier.server_graceful_shutdown_timeout`                       | Timeout for graceful shutdowns (default 30s)                                                                                                                                                            | `NA`    |
| `querier.server_grpc_listen_port`                                | gRPC server listen port. (default 9095)                                                                                                                                                                 | `NA`    |
| `querier.server_http_idle_timeout`                               | Idle timeout for HTTP server (default 2m0s)                                                                                                                                                             | `NA`    |
| `querier.server_http_listen_port`                                | HTTP server listen port. (default 80)                                                                                                                                                                   | `NA`    |
| `querier.server_http_read_timeout`                               | Read timeout for HTTP server (default 30s)                                                                                                                                                              | `NA`    |
| `querier.server_http_write_timeout`                              | Write timeout for HTTP server (default 30s)                                                                                                                                                             | `NA`    |
| `querier.server_register_instrumentation`                        | Register the intrumentation handlers (/metrics etc). (default true)                                                                                                                                     | `NA`    |
| `querier.stderrthreshold`                                        | logs at or above this threshold go to stderr                                                                                                                                                            | `NA`    |
| `querier.store_cache_lookups_older_than`                         | Cache index entries older than this period. 0 to disable.                                                                                                                                               | `NA`    |
| `querier.store_cardinality_cache_size`                           | Size of in-memory cardinality cache, 0 to disable.                                                                                                                                                      | `NA`    |
| `querier.store_cardinality_cache_validity`                       | Period for which entries in the cardinality cache are valid. (default 1h0m0s)                                                                                                                           | `NA`    |
| `querier.store_cardinality_limit`                                | Cardinality limit for index queries. (default 100000)                                                                                                                                                   | `NA`    |
| `querier.store_index_cache_read_cache_enable_diskcache`          | Cache config for index entry reading. Enable on-disk cache.                                                                                                                                             | `NA`    |
| `querier.store_index_cache_read_cache_enable_fifocache`          | Cache config for index entry reading. Enable in-memory cache.                                                                                                                                           | `NA`    |
| `querier.store_index_cache_read_default_validity`                | Cache config for index entry reading. The default validity of entries for caches unless overridden.                                                                                                     | `NA`    |
| `querier.store_index_cache_read_diskcache_path`                  | Cache config for index entry reading. Path to file used to cache chunks. (default "/var/run/chunks")                                                                                                    | `NA`    |
| `querier.store_index_cache_read_diskcache_size`                  | Cache config for index entry reading. Size of file (bytes) (default 1073741824)                                                                                                                         | `NA`    |
| `querier.store_index_cache_read_fifocache_duration`              | Cache config for index entry reading. The expiry duration for the cache.                                                                                                                                | `NA`    |
| `querier.store_index_cache_read_fifocache_size`                  | Cache config for index entry reading. The number of entries to cache.                                                                                                                                   | `NA`    |
| `querier.store_index_cache_read_memcache_write_back_buffer`      | Cache config for index entry reading. How many chunks to buffer for background write back. (default 10000)                                                                                              | `NA`    |
| `querier.store_index_cache_read_memcache_write_back_goroutines`  | Cache config for index entry reading. How many goroutines to use to write back to memcache. (default 10)                                                                                                | `NA`    |
| `querier.store_index_cache_read_memcached_batchsize`             | Cache config for index entry reading. How many keys to fetch in each batch.                                                                                                                             | `NA`    |
| `querier.store_index_cache_read_memcached_expiration`            | Cache config for index entry reading. How long keys stay in the memcache.                                                                                                                               | `NA`    |
| `querier.store_index_cache_read_memcached_hostname`              | Cache config for index entry reading. Hostname for memcached service to use when caching chunks. If empty, no memcached will be used.                                                                   | `NA`    |
| `querier.store_index_cache_read_memcached_max_idle_conns`        | Cache config for index entry reading. Maximum number of idle connections in pool. (default 16)                                                                                                          | `NA`    |
| `querier.store_index_cache_read_memcached_parallelism`           | Cache config for index entry reading. Maximum active requests to memcache. (default 100)                                                                                                                | `NA`    |
| `querier.store_index_cache_read_memcached_service`               | Cache config for index entry reading. SRV service used to discover memcache servers. (default "memcached")                                                                                              | `NA`    |
| `querier.store_index_cache_read_memcached_timeout`               | Cache config for index entry reading. Maximum time to wait before giving up on memcached requests. (default 100ms)                                                                                      | `NA`    |
| `querier.store_index_cache_read_memcached_update_interval`       | Cache config for index entry reading. Period with which to poll DNS for memcache servers. (default 1m0s)                                                                                                | `NA`    |
| `querier.store_index_cache_validity`                             | Cache validity for active index entries. Should be no higher than -ingester.max-chunk-idle. (default 5m0s)                                                                                              | `NA`    |
| `querier.store_index_cache_write_cache_enable_diskcache`         | Cache config for index entry writing. Enable on-disk cache.                                                                                                                                             | `NA`    |
| `querier.store_index_cache_write_cache_enable_fifocache`         | Cache config for index entry writing. Enable in-memory cache.                                                                                                                                           | `NA`    |
| `querier.store_index_cache_write_default_validity`               | Cache config for index entry writing. The default validity of entries for caches unless overridden.                                                                                                     | `NA`    |
| `querier.store_index_cache_write_diskcache_path`                 | Cache config for index entry writing. Path to file used to cache chunks. (default "/var/run/chunks")                                                                                                    | `NA`    |
| `querier.store_index_cache_write_diskcache_size`                 | Cache config for index entry writing. Size of file (bytes) (default 1073741824)                                                                                                                         | `NA`    |
| `querier.store_index_cache_write_fifocache_duration`             | Cache config for index entry writing. The expiry duration for the cache.                                                                                                                                | `NA`    |
| `querier.store_index_cache_write_fifocache_size`                 | Cache config for index entry writing. The number of entries to cache.                                                                                                                                   | `NA`    |
| `querier.store_index_cache_write_memcache_write_back_buffer`     | Cache config for index entry writing. How many chunks to buffer for background write back. (default 10000)                                                                                              | `NA`    |
| `querier.store_index_cache_write_memcache_write_back_goroutines` | Cache config for index entry writing. How many goroutines to use to write back to memcache. (default 10)                                                                                                | `NA`    |
| `querier.store_index_cache_write_memcached_batchsize`            | Cache config for index entry writing. How many keys to fetch in each batch.                                                                                                                             | `NA`    |
| `querier.store_index_cache_write_memcached_expiration`           | Cache config for index entry writing. How long keys stay in the memcache.                                                                                                                               | `NA`    |
| `querier.store_index_cache_write_memcached_hostname`             | Cache config for index entry writing. Hostname for memcached service to use when caching chunks. If empty, no memcached will be used.                                                                   | `NA`    |
| `querier.store_index_cache_write_memcached_max_idle_conns`       | Cache config for index entry writing. Maximum number of idle connections in pool. (default 16)                                                                                                          | `NA`    |
| `querier.store_index_cache_write_memcached_parallelism`          | Cache config for index entry writing. Maximum active requests to memcache. (default 100)                                                                                                                | `NA`    |
| `querier.store_index_cache_write_memcached_service`              | Cache config for index entry writing. SRV service used to discover memcache servers. (default "memcached")                                                                                              | `NA`    |
| `querier.store_index_cache_write_memcached_timeout`              | Cache config for index entry writing. Maximum time to wait before giving up on memcached requests. (default 100ms)                                                                                      | `NA`    |
| `querier.store_index_cache_write_memcached_update_interval`      | Cache config for index entry writing. Period with which to poll DNS for memcache servers. (default 1m0s)                                                                                                | `NA`    |
| `querier.store_max_query_length`                                 | Limit to length of chunk store queries, 0 to disable.                                                                                                                                                   | `NA`    |
| `querier.store_min_chunk_age`                                    | Minimum time between chunk update and being saved to the store.                                                                                                                                         | `NA`    |
| `querier.store_query_chunk_limit`                                | Maximum number of chunks that can be fetched in a single query. (default 2000000)                                                                                                                       | `NA`    |
| `querier.v`                                                      | log level for V logs                                                                                                                                                                                    | `NA`    |
| `querier.validation_create_grace_period`                         | Duration which table will be created/deleted before/after it's needed; we won't accept sample from before this time. (default 10m0s)                                                                    | `NA`    |
| `querier.validation_max_label_names_per_series`                  | Maximum number of label names per series. (default 30)                                                                                                                                                  | `NA`    |
| `querier.validation_max_length_label_name`                       | Maximum length accepted for label names (default 1024)                                                                                                                                                  | `NA`    |
| `querier.validation_max_length_label_value`                      | Maximum length accepted for label value. This setting also applies to the metric name (default 2048)                                                                                                    | `NA`    |
| `querier.validation_reject_old_samples`                          | Reject old samples.                                                                                                                                                                                     | `NA`    |
| `querier.validation_reject_old_samples_max_age`                  | Maximum accepted sample age before rejecting. (default 336h0m0s)                                                                                                                                        | `NA`    |
| `querier.vmodule`                                                | comma-separated list of pattern=N settings for file-filtered logging                                                                                                                                    | `NA`    |

### Query Frontend

#### Chart parameters
| Parameter | Description  | Default |
|-----------|--------------|---------|
| `query_frontend.env` | List of service level environment variables, overrides `cortex.env` | `[]` |
| `query_frontend.affinity` | Assign the service to run on specific nodes | `{}` |
| `query_frontend.enabled` | Deploy service | `true` |
| `query_frontend.image.repository` | Base image to use for a service deployment | `quay.io/cortexproject/query-frontend` |
| `query_frontend.image.tag` | Tag of service container image to be deployed | `master-89de3b07` |
| `query_frontend.image.pullPolicy` | Pull policy for service image | `IfNotPresent` |
| `query_frontend.nodeSelector` | Define which Nodes the Pods are scheduled on. | `{}` |  
| `query_frontend.replicaCount` | Size is the expected size of the service cluster. | `1` |  
| `query_frontend.service.annotations` | Kubernetes service annotations | `{}` |  
| `query_frontend.service.grcpPort` | gRCP port for the service runs on | `9095` |  
| `query_frontend.service.httpPort` | gRCP port for the service runs on | `80` |  
| `query_frontend.service.type` | Service type | `ClusterIP` |  
| `query_frontend.service.clusterIP` | Cluster IP for service | `None` |
| `query_frontend.servicemonitor.enabled` | Enable monitoring of service using prometheus operator | `false` |  
| `query_frontend.servicemonitor.labels` | Servicemonitor labels | `{}` |  
| `query_frontend.servicemonitor.namespace` | Namespace to deploy servicemonitor to | `"{{ .Release.Namespace }}"` |  
| `query_frontend.servicemonitor.port` | Port for servicemonitor | `9090` |  
| `query_frontend.tolerations` | Tolerations for use with node taints | `[]` |
| `query_frontend.resources` | Define resources requests and limits for single Pods | `{}` |  

#### Application parameters
All parameters here override parameters from `cortex.` on service level

| Parameter                                                    | Description                                                                                                              | Default |
|--------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------|---------|
| `query_frontend.cache_enable_diskcache`                      | Enable on-disk cache.                                                                                                    | `NA`    |
| `query_frontend.cache_enable_fifocache`                      | Enable in-memory cache.                                                                                                  | `NA`    |
| `query_frontend.default_validity`                            | The default validity of entries for caches unless overridden.                                                            | `NA`    |
| `query_frontend.diskcache_path`                              | Path to file used to cache chunks. (default "/var/run/chunks")                                                           | `NA`    |
| `query_frontend.diskcache_size`                              | Size of file (bytes) (default 1073741824)                                                                                | `NA`    |
| `query_frontend.fifocache_duration`                          | The expiry duration for the cache.                                                                                       | `NA`    |
| `query_frontend.fifocache_size`                              | The number of entries to cache.                                                                                          | `NA`    |
| `query_frontend.frontend_max_cache_freshness`                | Most recent allowed cacheable result, to prevent caching very recent results that might still be in flux. (default 1m0s) | `NA`    |
| `query_frontend.httptest_serve`                              | if non-empty, httptest.NewServer serves on this address and blocks                                                       | `NA`    |
| `query_frontend.log_level`                                   | Only log messages with the given severity or above. Valid levels: [debug, info, warn, error] (default info)              | `NA`    |
| `query_frontend.memcache_write_back_buffer`                  | How many chunks to buffer for background write back. (default 10000)                                                     | `NA`    |
| `query_frontend.memcache_write_back_goroutines`              | How many goroutines to use to write back to memcache. (default 10)                                                       | `NA`    |
| `query_frontend.memcached_batchsize`                         | How many keys to fetch in each batch.                                                                                    | `NA`    |
| `query_frontend.memcached_expiration`                        | How long keys stay in the memcache.                                                                                      | `NA`    |
| `query_frontend.memcached_hostname`                          | Hostname for memcached service to use when caching chunks. If empty, no memcached will be used.                          | `NA`    |
| `query_frontend.memcached_max_idle_conns`                    | Maximum number of idle connections in pool. (default 16)                                                                 | `NA`    |
| `query_frontend.memcached_parallelism`                       | Maximum active requests to memcache. (default 100)                                                                       | `NA`    |
| `query_frontend.memcached_service`                           | SRV service used to discover memcache servers. (default "memcached")                                                     | `NA`    |
| `query_frontend.memcached_timeout`                           | Maximum time to wait before giving up on memcached requests. (default 100ms)                                             | `NA`    |
| `query_frontend.memcached_update_interval`                   | Period with which to poll DNS for memcache servers. (default 1m0s)                                                       | `NA`    |
| `query_frontend.querier_align_querier_with_step`             | Mutate incoming queries to align their start and end with their step.                                                    | `NA`    |
| `query_frontend.querier_cache_results`                       | Cache query results.                                                                                                     | `NA`    |
| `query_frontend.querier_max_outstanding_requests_per_tenant` | Maximum number of outstanding requests per tenant per frontend; requests beyond this error with HTTP 429. (default 100)  | `NA`    |
| `query_frontend.querier_max_retries_per_request`             | Maximum number of retries for a single request; beyond this, the downstream error is returned. (default 5)               | `NA`    |
| `query_frontend.querier_split_queries_by_day`                | Split queries by day and execute in parallel.                                                                            | `NA`    |
| `query_frontend.query_frontend_max_recv_message_size_bytes`  | Limit on the size of a grpc message this server can receive. (default 67108864)                                          | `NA`    |
| `query_frontend.server_graceful_shutdown_timeout`            | Timeout for graceful shutdowns (default 30s)                                                                             | `NA`    |
| `query_frontend.server_grpc_listen_port`                     | gRPC server listen port. (default 9095)                                                                                  | `9095`    |
| `query_frontend.server_http_idle_timeout`                    | Idle timeout for HTTP server (default 2m0s)                                                                              | `NA`    |
| `query_frontend.server_http_listen_port`                     | HTTP server listen port. (default 80)                                                                                    | `NA`    |
| `query_frontend.server_http_read_timeout`                    | Read timeout for HTTP server (default 30s)                                                                               | `NA`    |
| `query_frontend.server_http_write_timeout`                   | Write timeout for HTTP server (default 30s)                                                                              | `NA`    |
| `query_frontend.server_register_instrumentation`             | Register the intrumentation handlers (/metrics etc). (default true)                                                      | `NA`    |

### Ruler

#### Chart parameters
| Parameter | Description  | Default |
|-----------|--------------|---------|
| `ruler.env` | List of service level environment variables, overrides `cortex.env` | `[]` |
| `ruler.affinity` | Assign the service to run on specific nodes | `{}` |
| `ruler.enabled` | Deploy service | `true` |
| `ruler.image.repository` | Base image to use for a service deployment | `quay.io/cortexproject/ruler` |
| `ruler.image.tag` | Tag of service container image to be deployed | `master-89de3b07` |
| `ruler.image.pullPolicy` | Pull policy for service image | `IfNotPresent` |
| `ruler.nodeSelector` | Define which Nodes the Pods are scheduled on. | `{}` |  
| `ruler.replicaCount` | Size is the expected size of the service cluster. | `1` |  
| `ruler.service.annotations` | Kubernetes service annotations | `{}` |  
| `ruler.service.grcpPort` | gRCP port for the service runs on | `9095` |  
| `ruler.service.httpPort` | gRCP port for the service runs on | `80` |  
| `ruler.service.type` | Service type | `ClusterIP` |  
| `ruler.service.clusterIP` | Cluster IP for service | `` |
| `ruler.servicemonitor.enabled` | Enable monitoring of service using prometheus operator | `false` |  
| `ruler.servicemonitor.labels` | Servicemonitor labels | `{}` |  
| `ruler.servicemonitor.namespace` | Namespace to deploy servicemonitor to | `"{{ .Release.Namespace }}"` |  
| `ruler.servicemonitor.port` | Port for servicemonitor | `9090` |  
| `ruler.tolerations` | Tolerations for use with node taints | `[]` |
| `ruler.resources` | Define resources requests and limits for single Pods | `{}` |  

#### Application parameters
All parameters here override parameters from `cortex.` on service level

| Parameter                                                      | Description                                                                                                                                                                                             | Default |
|----------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------|
| `ruler.alsologtostderr`                                        | log to standard error as well as files                                                                                                                                                                  | `NA`    |
| `ruler.applicationautoscaling_url`                             | ApplicationAutoscaling endpoint URL with escaped Key and Secret encoded.                                                                                                                                | `NA`    |
| `ruler.bigtable_column_key_from`                               | The date (in the format YYYY-MM-DD) after which we use bigtable column keys.                                                                                                                            | `NA`    |
| `ruler.bigtable_grpc_max_recv_msg_size`                        | gRPC client max receive message size (bytes). (default 104857600)                                                                                                                                       | `NA`    |
| `ruler.bigtable_grpc_max_send_msg_size`                        | gRPC client max send message size (bytes). (default 16777216)                                                                                                                                           | `NA`    |
| `ruler.bigtable_grpc_use_gzip_compression`                     | Use compression when sending messages.                                                                                                                                                                  | `NA`    |
| `ruler.bigtable_instance`                                      | Bigtable instance ID.                                                                                                                                                                                   | `NA`    |
| `ruler.bigtable_project`                                       | Bigtable project ID.                                                                                                                                                                                    | `NA`    |
| `ruler.billing_ingester`                                       | points to the billing ingester sidecar (should be on localhost) (default "localhost:24225")                                                                                                             | `NA`    |
| `ruler.billing_max_buffered_events`                            | Maximum number of billing events to buffer in memory (default 1024)                                                                                                                                     | `NA`    |
| `ruler.billing_retry_delay`                                    | How often to retry sending events to the billing ingester. (default 500ms)                                                                                                                              | `NA`    |
| `ruler.boltdb_dir`                                             | Location of BoltDB index files.                                                                                                                                                                         | `NA`    |
| `ruler.cache_enable_diskcache`                                 | Cache config for chunks. Enable on-disk cache.                                                                                                                                                          | `NA`    |
| `ruler.cache_enable_fifocache`                                 | Cache config for chunks. Enable in-memory cache.                                                                                                                                                        | `NA`    |
| `ruler.cassandra_addresses`                                    | Comma-separated hostnames or ips of Cassandra instances.                                                                                                                                                | `NA`    |
| `ruler.cassandra_auth`                                         | Enable password authentication when connecting to cassandra.                                                                                                                                            | `NA`    |
| `ruler.cassandra_ca_path`                                      | Path to certificate file to verify the peer.                                                                                                                                                            | `NA`    |
| `ruler.cassandra_consistency`                                  | Consistency level for Cassandra. (default "QUORUM")                                                                                                                                                     | `NA`    |
| `ruler.cassandra_disable_initial_host_lookup`                  | Instruct the cassandra driver to not attempt to get host info from the system.peers table.                                                                                                              | `NA`    |
| `ruler.cassandra_host_verification`                            | Require SSL certificate validation. (default true)                                                                                                                                                      | `NA`    |
| `ruler.cassandra_keyspace`                                     | Keyspace to use in Cassandra.                                                                                                                                                                           | `NA`    |
| `ruler.cassandra_password`                                     | Password to use when connecting to cassandra.                                                                                                                                                           | `NA`    |
| `ruler.cassandra_port`                                         | Port that Cassandra is running on (default 9042)                                                                                                                                                        | `NA`    |
| `ruler.cassandra_replication_factor`                           | Replication factor to use in Cassandra. (default 1)                                                                                                                                                     | `NA`    |
| `ruler.cassandra_ssl`                                          | Use SSL when connecting to cassandra instances.                                                                                                                                                         | `NA`    |
| `ruler.cassandra_timeout`                                      | Timeout when connecting to cassandra. (default 600ms)                                                                                                                                                   | `NA`    |
| `ruler.cassandra_username`                                     | Username to use when connecting to cassandra.                                                                                                                                                           | `NA`    |
| `ruler.chunk_storage_client`                                   | Which storage client to use (aws, gcp, cassandra, inmemory). (default "aws")                                                                                                                            | `NA`    |
| `ruler.config_yaml`                                            | Schema config yaml                                                                                                                                                                                      | `NA`    |
| `ruler.consul_acltoken`                                        | ACL Token used to interact with Consul.                                                                                                                                                                 | `NA`    |
| `ruler.consul_client_timeout`                                  | HTTP timeout when talking to consul (default 20s)                                                                                                                                                       | `NA`    |
| `ruler.consul_consistent_reads`                                | Enable consistent reads to consul. (default true)                                                                                                                                                       | `NA`    |
| `ruler.consul_hostname`                                        | Hostname and port of Consul. (default "localhost:8500")                                                                                                                                                 | `NA`    |
| `ruler.consul_prefix`                                          | Prefix for keys in Consul. (default "collectors/")                                                                                                                                                      | `NA`    |
| `ruler.database_migrations`                                    | Path where the database migration files can be found                                                                                                                                                    | `NA`    |
| `ruler.database_password_file`                                 | File containing password (username goes in URI)                                                                                                                                                         | `NA`    |
| `ruler.database_uri`                                           | URI where the database can be found (for dev you can use memory://) (default "postgres://postgres@configs-db.weave.local/configs?sslmode=disable")                                                      | `NA`    |
| `ruler.default_validity`                                       | Cache config for chunks. The default validity of entries for caches unless overridden.                                                                                                                  | `NA`    |
| `ruler.diskcache_path`                                         | Cache config for chunks. Path to file used to cache chunks. (default "/var/run/chunks")                                                                                                                 | `NA`    |
| `ruler.diskcache_size`                                         | Cache config for chunks. Size of file (bytes) (default 1073741824)                                                                                                                                      | `NA`    |
| `ruler.distributor_client_cleanup_period`                      | How frequently to clean up clients for ingesters that have gone away. (default 15s)                                                                                                                     | `NA`    |
| `ruler.distributor_enable_billing`                             | Report number of ingested samples to billing system.                                                                                                                                                    | `NA`    |
| `ruler.distributor_extra_query_delay`                          | Time to wait before sending more than the minimum successful query requests.                                                                                                                            | `NA`    |
| `ruler.distributor_health_check_ingesters`                     | Run a health check on each ingester client during periodic cleanup.                                                                                                                                     | `NA`    |
| `ruler.distributor_ingestion_burst_size`                       | Per-user allowed ingestion burst size (in number of samples). Warning, very high limits will be reset every -distributor.limiter-reload-period. (default 50000)                                         | `NA`    |
| `ruler.distributor_ingestion_rate_limit`                       | Per-user ingestion rate limit in samples per second. (default 25000)                                                                                                                                    | `NA`    |
| `ruler.distributor_limiter_reload_period`                      | Period at which to reload user ingestion limits. (default 5m0s)                                                                                                                                         | `NA`    |
| `ruler.distributor_remote_timeout`                             | Timeout for downstream ingesters. (default 2s)                                                                                                                                                          | `NA`    |
| `ruler.distributor_replication_factor`                         | The number of ingesters to write to and read from. (default 3)                                                                                                                                          | `NA`    |
| `ruler.distributor_shard_by_all_labels`                        | Distribute samples based on all labels, as opposed to solely by user and metric name.                                                                                                                   | `NA`    |
| `ruler.dynamodb_api_limit`                                     | DynamoDB table management requests per second limit. (default 2)                                                                                                                                        | `NA`    |
| `ruler.dynamodb_base64_buckets_from`                           | The date (in the format YYYY-MM-DD) after which we will stop querying to non-base64 encoded values.                                                                                                     | `NA`    |
| `ruler.dynamodb_chunk_table_from`                              | Date after which to write chunks to DynamoDB.                                                                                                                                                           | `NA`    |
| `ruler.dynamodb_chunk_table_period`                            | DynamoDB table period. (default 168h0m0s)                                                                                                                                                               | `NA`    |
| `ruler.dynamodb_chunk_table_prefix`                            | DynamoDB table prefix for period tables. (default "cortex_chunks_")                                                                                                                                     | `NA`    |
| `ruler.dynamodb_chunk_table_tag`                               | Tag (of the form key=value) to be added to all tables under management.                                                                                                                                 | `NA`    |
| `ruler.dynamodb_chunk_gang_size`                               | Number of chunks to group together to parallelise fetches (zero to disable) (default 10)                                                                                                                | `NA`    |
| `ruler.dynamodb_chunk_get_max_parallelism`                     | Max number of chunk-get operations to start in parallel (default 32)                                                                                                                                    | `NA`    |
| `ruler.dynamodb_daily_buckets_from`                            | The date (in the format YYYY-MM-DD) of the first day for which DynamoDB index buckets should be day-sized vs. hour-sized.                                                                               | `NA`    |
| `ruler.dynamodb_max_backoff`                                   | Maximum backoff time (default 50s)                                                                                                                                                                      | `NA`    |
| `ruler.dynamodb_max_retries`                                   | Maximum number of times to retry an operation (default 20)                                                                                                                                              | `NA`    |
| `ruler.dynamodb_min_backoff`                                   | Minimum backoff time (default 100ms)                                                                                                                                                                    | `NA`    |
| `ruler.dynamodb_original_table_name`                           | The name of the DynamoDB table used before versioned schemas were introduced. (default "cortex")                                                                                                        | `NA`    |
| `ruler.dynamodb_periodic_table_from`                           | Date after which to use periodic tables.                                                                                                                                                                | `NA`    |
| `ruler.dynamodb_periodic_table_period`                         | DynamoDB table period. (default 168h0m0s)                                                                                                                                                               | `NA`    |
| `ruler.dynamodb_periodic_table_prefix`                         | DynamoDB table prefix for period tables. (default "cortex_")                                                                                                                                            | `NA`    |
| `ruler.dynamodb_periodic_table_tag`                            | Tag (of the form key=value) to be added to all tables under management.                                                                                                                                 | `NA`    |
| `ruler.dynamodb_url`                                           | DynamoDB endpoint URL with escaped Key and Secret encoded. If only region is specified as a host, proper endpoint will be deduced. Use inmemory:///<table-name> to use a mock in-memory implementation. | `NA`    |
| `ruler.dynamodb_use_periodic_tables`                           | Should we use periodic tables.                                                                                                                                                                          | `NA`    |
| `ruler.dynamodb_v4_schema_from`                                | The date (in the format YYYY-MM-DD) after which we enable v4 schema.                                                                                                                                    | `NA`    |
| `ruler.dynamodb_v5_schema_from`                                | The date (in the format YYYY-MM-DD) after which we enable v5 schema.                                                                                                                                    | `NA`    |
| `ruler.dynamodb_v6_schema_from`                                | The date (in the format YYYY-MM-DD) after which we enable v6 schema.                                                                                                                                    | `NA`    |
| `ruler.dynamodb_v9_schema_from`                                | The date (in the format YYYY-MM-DD) after which we enable v9 schema (Series indexing).                                                                                                                  | `NA`    |
| `ruler.fifocache_duration`                                     | Cache config for chunks. The expiry duration for the cache.                                                                                                                                             | `NA`    |
| `ruler.fifocache_size`                                         | Cache config for chunks. The number of entries to cache.                                                                                                                                                | `NA`    |
| `ruler.gcs_bucketname`                                         | Name of GCS bucket to put chunks in.                                                                                                                                                                    | `NA`    |
| `ruler.httptest_serve`                                         | if non-empty, httptest.NewServer serves on this address and blocks                                                                                                                                      | `NA`    |
| `ruler.ingester_client_grpc_max_recv_msg_size`                 | gRPC client max receive message size (bytes). (default 104857600)                                                                                                                                       | `NA`    |
| `ruler.ingester_client_grpc_max_send_msg_size`                 | gRPC client max send message size (bytes). (default 16777216)                                                                                                                                           | `NA`    |
| `ruler.ingester_client_grpc_use_gzip_compression`              | Use compression when sending messages.                                                                                                                                                                  | `NA`    |
| `ruler.ingester_max_samples_per_query`                         | The maximum number of samples that a query can return. (default 1000000)                                                                                                                                | `NA`    |
| `ruler.ingester_max_series_per_metric`                         | Maximum number of active series per metric name. (default 50000)                                                                                                                                        | `NA`    |
| `ruler.ingester_max_series_per_query`                          | The maximum number of series that a query can return. (default 100000)                                                                                                                                  | `NA`    |
| `ruler.ingester_max_series_per_user`                           | Maximum number of active series per user. (default 5000000)                                                                                                                                             | `NA`    |
| `ruler.limits_per_user_override_config`                        | File name of per-user overrides.                                                                                                                                                                        | `NA`    |
| `ruler.limits_per_user_override_period`                        | Period with this to reload the overrides. (default 10s)                                                                                                                                                 | `NA`    |
| `ruler.local_chunk_directory`                                  | Directory to store chunks in.                                                                                                                                                                           | `NA`    |
| `ruler.log_level`                                              | Only log messages with the given severity or above. Valid levels: [debug, info, warn, error] (default info)                                                                                             | `NA`    |
| `ruler.log_backtrace_at`                                       | when logging hits line file:N, emit a stack trace                                                                                                                                                       | `NA`    |
| `ruler.log_dir`                                                | If non-empty, write log files in this directory                                                                                                                                                         | `NA`    |
| `ruler.logtostderr`                                            | log to standard error instead of files                                                                                                                                                                  | `NA`    |
| `ruler.memcache_write_back_buffer`                             | Cache config for chunks. How many chunks to buffer for background write back. (default 10000)                                                                                                           | `NA`    |
| `ruler.memcache_write_back_goroutines`                         | Cache config for chunks. How many goroutines to use to write back to memcache. (default 10)                                                                                                             | `NA`    |
| `ruler.memcached_batchsize`                                    | Cache config for chunks. How many keys to fetch in each batch.                                                                                                                                          | `NA`    |
| `ruler.memcached_expiration`                                   | Cache config for chunks. How long keys stay in the memcache.                                                                                                                                            | `NA`    |
| `ruler.memcached_hostname`                                     | Cache config for chunks. Hostname for memcached service to use when caching chunks. If empty, no memcached will be used.                                                                                | `NA`    |
| `ruler.memcached_max_idle_conns`                               | Cache config for chunks. Maximum number of idle connections in pool. (default 16)                                                                                                                       | `NA`    |
| `ruler.memcached_parallelism`                                  | Cache config for chunks. Maximum active requests to memcache. (default 100)                                                                                                                             | `NA`    |
| `ruler.memcached_service`                                      | Cache config for chunks. SRV service used to discover memcache servers. (default "memcached")                                                                                                           | `NA`    |
| `ruler.memcached_timeout`                                      | Cache config for chunks. Maximum time to wait before giving up on memcached requests. (default 100ms)                                                                                                   | `NA`    |
| `ruler.memcached_update_interval`                              | Cache config for chunks. Period with which to poll DNS for memcache servers. (default 1m0s)                                                                                                             | `NA`    |
| `ruler.metrics_error_rate_query`                               | query to fetch error rates per table (default "sum(rate(cortex_dynamo_failures_total{error="ProvisionedThroughputExceededException",operation=~".*Write.*"}[1m])) by (table) > 0")                      | `NA`    |
| `ruler.metrics_queue_length_query`                             | query to fetch ingester queue length (default "sum(avg_over_time(cortex_ingester_flush_queue_length{job="cortex/ingester"}[2m]))")                                                                      | `NA`    |
| `ruler.metrics_read_error_query`                               | query to fetch read errors per table (default "sum(increase(cortex_dynamo_failures_total{operation="DynamoDB.QueryPages",error="ProvisionedThroughputExceededException"}[1m])) by (table) > 0")         | `NA`    |
| `ruler.metrics_read_usage_query`                               | query to fetch read capacity usage per table (default "sum(rate(cortex_dynamo_consumed_capacity_total{operation="DynamoDB.QueryPages"}[1h])) by (table) > 0")                                           | `NA`    |
| `ruler.metrics_scale_up_factor`                                | Scale up capacity by this multiple (default 1.3)                                                                                                                                                        | `NA`    |
| `ruler.metrics_target_queue_length`                            | Queue length above which we will scale up capacity (default 100000)                                                                                                                                     | `NA`    |
| `ruler.metrics_url`                                            | Use metrics-based autoscaling, via this query URL                                                                                                                                                       | `NA`    |
| `ruler.metrics_usage_query`                                    | query to fetch write capacity usage per table (default "sum(rate(cortex_dynamo_consumed_capacity_total{operation="DynamoDB.BatchWriteItem"}[15m])) by (table) > 0")                                     | `NA`    |
| `ruler.promql_lookback_delta`                                  | Time since the last sample after which a time series is considered stale and ignored by expression evaluations. (default 5m0s)                                                                          | `NA`    |
| `ruler.querier_batch_iterators`                                | Use batch iterators to execute query, as opposed to fully materialising the series in memory.  Takes precedent over the -querier.iterators flag.                                                        | `NA`    |
| `ruler.querier_ingester_streaming`                             | Use streaming RPCs to query ingester.                                                                                                                                                                   | `NA`    |
| `ruler.querier_iterators`                                      | Use iterators to execute query, as opposed to fully materialising the series in memory.                                                                                                                 | `NA`    |
| `ruler.querier_max_concurrent`                                 | The maximum number of concurrent queries. (default 20)                                                                                                                                                  | `NA`    |
| `ruler.querier_max_samples`                                    | Maximum number of samples a single query can load into memory. (default 50000000)                                                                                                                       | `NA`    |
| `ruler.querier_query_ingesters_within`                         | Maximum lookback beyond which queries are not sent to ingester. 0 means all queries are sent to ingester.                                                                                               | `NA`    |
| `ruler.querier_timeout`                                        | The timeout for a query. (default 2m0s)                                                                                                                                                                 | `NA`    |
| `ruler.ring_heartbeat_timeout`                                 | The heartbeat timeout after which ingesters are skipped for reads/writes. (default 1m0s)                                                                                                                | `NA`    |
| `ruler.ring_store`                                             | Backend storage to use for the ring (consul, inmemory). (default "consul")                                                                                                                              | `NA`    |
| `ruler.ruler_alertmanager_discovery`                           | Use DNS SRV records to discover alertmanager hosts.                                                                                                                                                     | `NA`    |
| `ruler.ruler_alertmanager_refresh_interval`                    | How long to wait between refreshing alertmanager hosts. (default 1m0s)                                                                                                                                  | `NA`    |
| `ruler.ruler_alertmanager_url`                                 | URL of the Alertmanager to send notifications to.                                                                                                                                                       | `NA`    |
| `ruler.ruler_evaluation_interval`                              | How frequently to evaluate rules (default 15s)                                                                                                                                                          | `NA`    |
| `ruler.ruler_external_url`                                     | URL of alerts return path.                                                                                                                                                                              | `NA`    |
| `ruler.ruler_group_timeout`                                    | Timeout for rule group evaluation, including sending result to ingester (default 10s)                                                                                                                   | `NA`    |
| `ruler.ruler_notification_queue_capacity`                      | Capacity of the queue for notifications to be sent to the Alertmanager. (default 10000)                                                                                                                 | `NA`    |
| `ruler.ruler_notification_timeout`                             | HTTP timeout duration when sending notifications to the Alertmanager. (default 10s)                                                                                                                     | `NA`    |
| `ruler.ruler_num_workers`                                      | Number of rule evaluator worker routines in this process (default 1)                                                                                                                                    | `NA`    |
| `ruler.s3_url`                                                 | S3 endpoint URL with escaped Key and Secret encoded. If only region is specified as a host, proper endpoint will be deduced. Use inmemory:///<bucket-name> to use a mock in-memory implementation.      | `NA`    |
| `ruler.server_graceful_shutdown_timeout`                       | Timeout for graceful shutdowns (default 30s)                                                                                                                                                            | `NA`    |
| `ruler.server_grpc_listen_port`                                | gRPC server listen port. (default 9095)                                                                                                                                                                 | `NA`    |
| `ruler.server_http_idle_timeout`                               | Idle timeout for HTTP server (default 2m0s)                                                                                                                                                             | `NA`    |
| `ruler.server_http_listen_port`                                | HTTP server listen port. (default 80)                                                                                                                                                                   | `NA`    |
| `ruler.server_http_read_timeout`                               | Read timeout for HTTP server (default 30s)                                                                                                                                                              | `NA`    |
| `ruler.server_http_write_timeout`                              | Write timeout for HTTP server (default 30s)                                                                                                                                                             | `NA`    |
| `ruler.server_register_instrumentation`                        | Register the intrumentation handlers (/metrics etc). (default true)                                                                                                                                     | `NA`    |
| `ruler.stderrthreshold`                                        | logs at or above this threshold go to stderr                                                                                                                                                            | `NA`    |
| `ruler.store_cache_lookups_older_than`                         | Cache index entries older than this period. 0 to disable.                                                                                                                                               | `NA`    |
| `ruler.store_cardinality_cache_size`                           | Size of in-memory cardinality cache, 0 to disable.                                                                                                                                                      | `NA`    |
| `ruler.store_cardinality_cache_validity`                       | Period for which entries in the cardinality cache are valid. (default 1h0m0s)                                                                                                                           | `NA`    |
| `ruler.store_cardinality_limit`                                | Cardinality limit for index queries. (default 100000)                                                                                                                                                   | `NA`    |
| `ruler.store_index_cache_read_cache_enable_diskcache`          | Cache config for index entry reading. Enable on-disk cache.                                                                                                                                             | `NA`    |
| `ruler.store_index_cache_read_cache_enable_fifocache`          | Cache config for index entry reading. Enable in-memory cache.                                                                                                                                           | `NA`    |
| `ruler.store_index_cache_read_default_validity`                | Cache config for index entry reading. The default validity of entries for caches unless overridden.                                                                                                     | `NA`    |
| `ruler.store_index_cache_read_diskcache_path`                  | Cache config for index entry reading. Path to file used to cache chunks. (default "/var/run/chunks")                                                                                                    | `NA`    |
| `ruler.store_index_cache_read_diskcache_size`                  | Cache config for index entry reading. Size of file (bytes) (default 1073741824)                                                                                                                         | `NA`    |
| `ruler.store_index_cache_read_fifocache_duration`              | Cache config for index entry reading. The expiry duration for the cache.                                                                                                                                | `NA`    |
| `ruler.store_index_cache_read_fifocache_size`                  | Cache config for index entry reading. The number of entries to cache.                                                                                                                                   | `NA`    |
| `ruler.store_index_cache_read_memcache_write_back_buffer`      | Cache config for index entry reading. How many chunks to buffer for background write back. (default 10000)                                                                                              | `NA`    |
| `ruler.store_index_cache_read_memcache_write_back_goroutines`  | Cache config for index entry reading. How many goroutines to use to write back to memcache. (default 10)                                                                                                | `NA`    |
| `ruler.store_index_cache_read_memcached_batchsize`             | Cache config for index entry reading. How many keys to fetch in each batch.                                                                                                                             | `NA`    |
| `ruler.store_index_cache_read_memcached_expiration`            | Cache config for index entry reading. How long keys stay in the memcache.                                                                                                                               | `NA`    |
| `ruler.store_index_cache_read_memcached_hostname`              | Cache config for index entry reading. Hostname for memcached service to use when caching chunks. If empty, no memcached will be used.                                                                   | `NA`    |
| `ruler.store_index_cache_read_memcached_max_idle_conns`        | Cache config for index entry reading. Maximum number of idle connections in pool. (default 16)                                                                                                          | `NA`    |
| `ruler.store_index_cache_read_memcached_parallelism`           | Cache config for index entry reading. Maximum active requests to memcache. (default 100)                                                                                                                | `NA`    |
| `ruler.store_index_cache_read_memcached_service`               | Cache config for index entry reading. SRV service used to discover memcache servers. (default "memcached")                                                                                              | `NA`    |
| `ruler.store_index_cache_read_memcached_timeout`               | Cache config for index entry reading. Maximum time to wait before giving up on memcached requests. (default 100ms)                                                                                      | `NA`    |
| `ruler.store_index_cache_read_memcached_update_interval`       | Cache config for index entry reading. Period with which to poll DNS for memcache servers. (default 1m0s)                                                                                                | `NA`    |
| `ruler.store_index_cache_validity`                             | Cache validity for active index entries. Should be no higher than -ingester.max-chunk-idle. (default 5m0s)                                                                                              | `NA`    |
| `ruler.store_index_cache_write_cache_enable_diskcache`         | Cache config for index entry writing. Enable on-disk cache.                                                                                                                                             | `NA`    |
| `ruler.store_index_cache_write_cache_enable_fifocache`         | Cache config for index entry writing. Enable in-memory cache.                                                                                                                                           | `NA`    |
| `ruler.store_index_cache_write_default_validity`               | Cache config for index entry writing. The default validity of entries for caches unless overridden.                                                                                                     | `NA`    |
| `ruler.store_index_cache_write_diskcache_path`                 | Cache config for index entry writing. Path to file used to cache chunks. (default "/var/run/chunks")                                                                                                    | `NA`    |
| `ruler.store_index_cache_write_diskcache_size`                 | Cache config for index entry writing. Size of file (bytes) (default 1073741824)                                                                                                                         | `NA`    |
| `ruler.store_index_cache_write_fifocache_duration`             | Cache config for index entry writing. The expiry duration for the cache.                                                                                                                                | `NA`    |
| `ruler.store_index_cache_write_fifocache_size`                 | Cache config for index entry writing. The number of entries to cache.                                                                                                                                   | `NA`    |
| `ruler.store_index_cache_write_memcache_write_back_buffer`     | Cache config for index entry writing. How many chunks to buffer for background write back. (default 10000)                                                                                              | `NA`    |
| `ruler.store_index_cache_write_memcache_write_back_goroutines` | Cache config for index entry writing. How many goroutines to use to write back to memcache. (default 10)                                                                                                | `NA`    |
| `ruler.store_index_cache_write_memcached_batchsize`            | Cache config for index entry writing. How many keys to fetch in each batch.                                                                                                                             | `NA`    |
| `ruler.store_index_cache_write_memcached_expiration`           | Cache config for index entry writing. How long keys stay in the memcache.                                                                                                                               | `NA`    |
| `ruler.store_index_cache_write_memcached_hostname`             | Cache config for index entry writing. Hostname for memcached service to use when caching chunks. If empty, no memcached will be used.                                                                   | `NA`    |
| `ruler.store_index_cache_write_memcached_max_idle_conns`       | Cache config for index entry writing. Maximum number of idle connections in pool. (default 16)                                                                                                          | `NA`    |
| `ruler.store_index_cache_write_memcached_parallelism`          | Cache config for index entry writing. Maximum active requests to memcache. (default 100)                                                                                                                | `NA`    |
| `ruler.store_index_cache_write_memcached_service`              | Cache config for index entry writing. SRV service used to discover memcache servers. (default "memcached")                                                                                              | `NA`    |
| `ruler.store_index_cache_write_memcached_timeout`              | Cache config for index entry writing. Maximum time to wait before giving up on memcached requests. (default 100ms)                                                                                      | `NA`    |
| `ruler.store_index_cache_write_memcached_update_interval`      | Cache config for index entry writing. Period with which to poll DNS for memcache servers. (default 1m0s)                                                                                                | `NA`    |
| `ruler.store_max_query_length`                                 | Limit to length of chunk store queries, 0 to disable.                                                                                                                                                   | `NA`    |
| `ruler.store_min_chunk_age`                                    | Minimum time between chunk update and being saved to the store.                                                                                                                                         | `NA`    |
| `ruler.store_query_chunk_limit`                                | Maximum number of chunks that can be fetched in a single query. (default 2000000)                                                                                                                       | `NA`    |
| `ruler.v`                                                      | log level for V logs                                                                                                                                                                                    | `NA`    |
| `ruler.validation_create_grace_period`                         | Duration which table will be created/deleted before/after it's needed; we won't accept sample from before this time. (default 10m0s)                                                                    | `NA`    |
| `ruler.validation_max_label_names_per_series`                  | Maximum number of label names per series. (default 30)                                                                                                                                                  | `NA`    |
| `ruler.validation_max_length_label_name`                       | Maximum length accepted for label names (default 1024)                                                                                                                                                  | `NA`    |
| `ruler.validation_max_length_label_value`                      | Maximum length accepted for label value. This setting also applies to the metric name (default 2048)                                                                                                    | `NA`    |
| `ruler.validation_reject_old_samples`                          | Reject old samples.                                                                                                                                                                                     | `NA`    |
| `ruler.validation_reject_old_samples_max_age`                  | Maximum accepted sample age before rejecting. (default 336h0m0s)                                                                                                                                        | `NA`    |
| `ruler.vmodule`                                                | comma-separated list of pattern=N settings for file-filtered logging                                                                                                                                    | `NA`    |

### Table Manager

#### Chart parameters
| Parameter | Description  | Default |
|-----------|--------------|---------|
| `table_manager.env` | List of service level environment variables, overrides `cortex.env` | `[]` |
| `table_manager.affinity` | Assign the service to run on specific nodes | `{}` |
| `table_manager.enabled` | Deploy service | `true` |
| `table_manager.image.repository` | Base image to use for a service deployment | `quay.io/cortexproject/table-manager` |
| `table_manager.image.tag` | Tag of service container image to be deployed | `master-89de3b07` |
| `table_manager.image.pullPolicy` | Pull policy for service image | `IfNotPresent` |
| `table_manager.nodeSelector` | Define which Nodes the Pods are scheduled on. | `{}` |  
| `table_manager.replicaCount` | Size is the expected size of the service cluster. | `1` |  
| `table_manager.service.annotations` | Kubernetes service annotations | `{}` |  
| `table_manager.service.grcpPort` | gRCP port for the service runs on | `9095` |  
| `table_manager.service.httpPort` | gRCP port for the service runs on | `80` |  
| `table_manager.service.type` | Service type | `ClusterIP` |  
| `table_manager.service.clusterIP` | Cluster IP for service | `` |
| `table_manager.servicemonitor.enabled` | Enable monitoring of service using prometheus operator | `false` |  
| `table_manager.servicemonitor.labels` | Servicemonitor labels | `{}` |  
| `table_manager.servicemonitor.namespace` | Namespace to deploy servicemonitor to | `"{{ .Release.Namespace }}"` |  
| `table_manager.servicemonitor.port` | Port for servicemonitor | `9090` |  
| `table_manager.tolerations` | Tolerations for use with node taints | `[]` |
| `table_manager.resources` | Define resources requests and limits for single Pods | `{}` |  

#### Application parameters
All parameters here override parameters from `cortex.` on service level

| Parameter                                                                            | Description                                                                                                                                                                                             | Default |
|--------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------|
| `table_manager.applicationautoscaling_url`                                           | ApplicationAutoscaling endpoint URL with escaped Key and Secret encoded.                                                                                                                                | `NA`    |
| `table_manager.bigtable_column_key_from`                                             | The date (in the format YYYY-MM-DD) after which we use bigtable column keys.                                                                                                                            | `NA`    |
| `table_manager.bigtable_grpc_max_recv_msg_size`                                      | gRPC client max receive message size (bytes). (default 104857600)                                                                                                                                       | `NA`    |
| `table_manager.bigtable_grpc_max_send_msg_size`                                      | gRPC client max send message size (bytes). (default 16777216)                                                                                                                                           | `NA`    |
| `table_manager.bigtable_grpc_use_gzip_compression`                                   | Use compression when sending messages.                                                                                                                                                                  | `NA`    |
| `table_manager.bigtable_instance`                                                    | Bigtable instance ID.                                                                                                                                                                                   | `NA`    |
| `table_manager.bigtable_project`                                                     | Bigtable project ID.                                                                                                                                                                                    | `NA`    |
| `table_manager.boltdb_dir`                                                           | Location of BoltDB index files.                                                                                                                                                                         | `NA`    |
| `table_manager.cassandra_addresses`                                                  | Comma-separated hostnames or ips of Cassandra instances.                                                                                                                                                | `NA`    |
| `table_manager.cassandra_auth`                                                       | Enable password authentication when connecting to cassandra.                                                                                                                                            | `NA`    |
| `table_manager.cassandra_ca_path`                                                    | Path to certificate file to verify the peer.                                                                                                                                                            | `NA`    |
| `table_manager.cassandra_consistency`                                                | Consistency level for Cassandra. (default "QUORUM")                                                                                                                                                     | `NA`    |
| `table_manager.cassandra_disable_initial_host_lookup`                                | Instruct the cassandra driver to not attempt to get host info from the system.peers table.                                                                                                              | `NA`    |
| `table_manager.cassandra_host_verification`                                          | Require SSL certificate validation. (default true)                                                                                                                                                      | `NA`    |
| `table_manager.cassandra_keyspace`                                                   | Keyspace to use in Cassandra.                                                                                                                                                                           | `NA`    |
| `table_manager.cassandra_password`                                                   | Password to use when connecting to cassandra.                                                                                                                                                           | `NA`    |
| `table_manager.cassandra_port`                                                       | Port that Cassandra is running on (default 9042)                                                                                                                                                        | `NA`    |
| `table_manager.cassandra_replication_factor`                                         | Replication factor to use in Cassandra. (default 1)                                                                                                                                                     | `NA`    |
| `table_manager.cassandra_ssl`                                                        | Use SSL when connecting to cassandra instances.                                                                                                                                                         | `NA`    |
| `table_manager.cassandra_timeout`                                                    | Timeout when connecting to cassandra. (default 600ms)                                                                                                                                                   | `NA`    |
| `table_manager.cassandra_username`                                                   | Username to use when connecting to cassandra.                                                                                                                                                           | `NA`    |
| `table_manager.chunk_storage_client`                                                 | Which storage client to use (aws, gcp, cassandra, inmemory). (default "aws")                                                                                                                            | `NA`    |
| `table_manager.config_yaml`                                                          | Schema config yaml                                                                                                                                                                                      | `NA`    |
| `table_manager.consul_acltoken`                                                      | ACL Token used to interact with Consul.                                                                                                                                                                 | `NA`    |
| `table_manager.consul_client_timeout`                                                | HTTP timeout when talking to consul (default 20s)                                                                                                                                                       | `NA`    |
| `table_manager.consul_consistent_reads`                                              | Enable consistent reads to consul. (default true)                                                                                                                                                       | `NA`    |
| `table_manager.consul_hostname`                                                      | Hostname and port of Consul. (default "localhost:8500")                                                                                                                                                 | `NA`    |
| `table_manager.consul_prefix`                                                        | Prefix for keys in Consul. (default "collectors/")                                                                                                                                                      | `NA`    |
| `table_manager.distributor_replication_factor`                                       | The number of ingesters to write to and read from. (default 3)                                                                                                                                          | `NA`    |
| `table_manager.dynamodb_api_limit`                                                   | DynamoDB table management requests per second limit. (default 2)                                                                                                                                        | `NA`    |
| `table_manager.dynamodb_base64_buckets_from`                                         | The date (in the format YYYY-MM-DD) after which we will stop querying to non-base64 encoded values.                                                                                                     | `NA`    |
| `table_manager.dynamodb_chunk_table_enable_ondemand_throughput_mode`                 | Enables on demand througput provisioning for the storage provider (if supported). Applies only to tables which are not autoscaled                                                                       | `NA`    |
| `table_manager.dynamodb_chunk_table_from`                                            | Date after which to write chunks to DynamoDB.                                                                                                                                                           | `NA`    |
| `table_manager.dynamodb_chunk_table_inactive_enable_ondemand_throughput_mode`        | Enables on demand througput provisioning for the storage provider (if supported). Applies only to tables which are not autoscaled                                                                       | `NA`    |
| `table_manager.dynamodb_chunk_table_inactive_read_throughput`                        | DynamoDB table read throughput for inactive tables. (default 300)                                                                                                                                       | `NA`    |
| `table_manager.dynamodb_chunk_table_inactive_read_throughput_scale_last_n`           | Number of last inactive tables to enable read autoscale. (default 4)                                                                                                                                    | `NA`    |
| `table_manager.dynamodb_chunk_table_inactive_read_throughput_scale_enabled`          | Should we enable autoscale for the table.                                                                                                                                                               | `NA`    |
| `table_manager.dynamodb_chunk_table_inactive_read_throughput_scale_in_cooldown`      | DynamoDB minimum seconds between each autoscale down. (default 1800)                                                                                                                                    | `NA`    |
| `table_manager.dynamodb_chunk_table_inactive_read_throughput_scale_max_capacity`     | DynamoDB maximum provision capacity. (default 6000)                                                                                                                                                     | `NA`    |
| `table_manager.dynamodb_chunk_table_inactive_read_throughput_scale_min_capacity`     | DynamoDB minimum provision capacity. (default 3000)                                                                                                                                                     | `NA`    |
| `table_manager.dynamodb_chunk_table_inactive_read_throughput_scale_out_cooldown`     | DynamoDB minimum seconds between each autoscale up. (default 1800)                                                                                                                                      | `NA`    |
| `table_manager.dynamodb_chunk_table_inactive_read_throughput_scale_role_arn`         | AWS AutoScaling role ARN                                                                                                                                                                                | `NA`    |
| `table_manager.dynamodb_chunk_table_inactive_read_throughput_scale_target_value`     | DynamoDB target ratio of consumed capacity to provisioned capacity. (default 80)                                                                                                                        | `NA`    |
| `table_manager.dynamodb_chunk_table_inactive_write_throughput`                       | DynamoDB table write throughput for inactive tables. (default 1)                                                                                                                                        | `NA`    |
| `table_manager.dynamodb_chunk_table_inactive_write_throughput_scale_last_n`          | Number of last inactive tables to enable write autoscale. (default 4)                                                                                                                                   | `NA`    |
| `table_manager.dynamodb_chunk_table_inactive_write_throughput_scale_enabled`         | Should we enable autoscale for the table.                                                                                                                                                               | `NA`    |
| `table_manager.dynamodb_chunk_table_inactive_write_throughput_scale_in_cooldown`     | DynamoDB minimum seconds between each autoscale down. (default 1800)                                                                                                                                    | `NA`    |
| `table_manager.dynamodb_chunk_table_inactive_write_throughput_scale_max_capacity`    | DynamoDB maximum provision capacity. (default 6000)                                                                                                                                                     | `NA`    |
| `table_manager.dynamodb_chunk_table_inactive_write_throughput_scale_min_capacity`    | DynamoDB minimum provision capacity. (default 3000)                                                                                                                                                     | `NA`    |
| `table_manager.dynamodb_chunk_table_inactive_write_throughput_scale_out_cooldown`    | DynamoDB minimum seconds between each autoscale up. (default 1800)                                                                                                                                      | `NA`    |
| `table_manager.dynamodb_chunk_table_inactive_write_throughput_scale_role_arn`        | AWS AutoScaling role ARN                                                                                                                                                                                | `NA`    |
| `table_manager.dynamodb_chunk_table_inactive_write_throughput_scale_target_value`    | DynamoDB target ratio of consumed capacity to provisioned capacity. (default 80)                                                                                                                        | `NA`    |
| `table_manager.dynamodb_chunk_table_period`                                          | DynamoDB table period. (default 168h0m0s)                                                                                                                                                               | `NA`    |
| `table_manager.dynamodb_chunk_table_prefix`                                          | DynamoDB table prefix for period tables. (default "cortex_chunks_")                                                                                                                                     | `NA`    |
| `table_manager.dynamodb_chunk_table_read_throughput`                                 | DynamoDB table default read throughput. (default 300)                                                                                                                                                   | `NA`    |
| `table_manager.dynamodb_chunk_table_read_throughput_scale_enabled`                   | Should we enable autoscale for the table.                                                                                                                                                               | `NA`    |
| `table_manager.dynamodb_chunk_table_read_throughput_scale_in_cooldown`               | DynamoDB minimum seconds between each autoscale down. (default 1800)                                                                                                                                    | `NA`    |
| `table_manager.dynamodb_chunk_table_read_throughput_scale_max_capacity`              | DynamoDB maximum provision capacity. (default 6000)                                                                                                                                                     | `NA`    |
| `table_manager.dynamodb_chunk_table_read_throughput_scale_min_capacity`              | DynamoDB minimum provision capacity. (default 3000)                                                                                                                                                     | `NA`    |
| `table_manager.dynamodb_chunk_table_read_throughput_scale_out_cooldown`              | DynamoDB minimum seconds between each autoscale up. (default 1800)                                                                                                                                      | `NA`    |
| `table_manager.dynamodb_chunk_table_read_throughput_scale_role_arn`                  | AWS AutoScaling role ARN                                                                                                                                                                                | `NA`    |
| `table_manager.dynamodb_chunk_table_read_throughput_scale_target_value`              | DynamoDB target ratio of consumed capacity to provisioned capacity. (default 80)                                                                                                                        | `NA`    |
| `table_manager.dynamodb_chunk_table_tag`                                             | Tag (of the form key=value) to be added to all tables under management.                                                                                                                                 | `NA`    |
| `table_manager.dynamodb_chunk_table_write_throughput`                                | DynamoDB table default write throughput. (default 3000)                                                                                                                                                 | `NA`    |
| `table_manager.dynamodb_chunk_table_write_throughput_scale_enabled`                  | Should we enable autoscale for the table.                                                                                                                                                               | `NA`    |
| `table_manager.dynamodb_chunk_table_write_throughput_scale_in_cooldown`              | DynamoDB minimum seconds between each autoscale down. (default 1800)                                                                                                                                    | `NA`    |
| `table_manager.dynamodb_chunk_table_write_throughput_scale_max_capacity`             | DynamoDB maximum provision capacity. (default 6000)                                                                                                                                                     | `NA`    |
| `table_manager.dynamodb_chunk_table_write_throughput_scale_min_capacity`             | DynamoDB minimum provision capacity. (default 3000)                                                                                                                                                     | `NA`    |
| `table_manager.dynamodb_chunk_table_write_throughput_scale_out_cooldown`             | DynamoDB minimum seconds between each autoscale up. (default 1800)                                                                                                                                      | `NA`    |
| `table_manager.dynamodb_chunk_table_write_throughput_scale_role_arn`                 | AWS AutoScaling role ARN                                                                                                                                                                                | `NA`    |
| `table_manager.dynamodb_chunk_table_write_throughput_scale_target_value`             | DynamoDB target ratio of consumed capacity to provisioned capacity. (default 80)                                                                                                                        | `NA`    |
| `table_manager.dynamodb_chunk_gang_size`                                             | Number of chunks to group together to parallelise fetches (zero to disable) (default 10)                                                                                                                | `NA`    |
| `table_manager.dynamodb_chunk_get_max_parallelism`                                   | Max number of chunk-get operations to start in parallel (default 32)                                                                                                                                    | `NA`    |
| `table_manager.dynamodb_daily_buckets_from`                                          | The date (in the format YYYY-MM-DD) of the first day for which DynamoDB index buckets should be day-sized vs. hour-sized.                                                                               | `NA`    |
| `table_manager.dynamodb_max_backoff`                                                 | Maximum backoff time (default 50s)                                                                                                                                                                      | `NA`    |
| `table_manager.dynamodb_max_retries`                                                 | Maximum number of times to retry an operation (default 20)                                                                                                                                              | `NA`    |
| `table_manager.dynamodb_min_backoff`                                                 | Minimum backoff time (default 100ms)                                                                                                                                                                    | `NA`    |
| `table_manager.dynamodb_original_table_name`                                         | The name of the DynamoDB table used before versioned schemas were introduced. (default "cortex")                                                                                                        | `NA`    |
| `table_manager.dynamodb_periodic_table_enable_ondemand_throughput_mode`              | Enables on demand througput provisioning for the storage provider (if supported). Applies only to tables which are not autoscaled                                                                       | `NA`    |
| `table_manager.dynamodb_periodic_table_from`                                         | Date after which to use periodic tables.                                                                                                                                                                | `NA`    |
| `table_manager.dynamodb_periodic_table_grace_period`                                 | DynamoDB periodic tables grace period (duration which table will be created/deleted before/after it's needed). (default 10m0s)                                                                          | `NA`    |
| `table_manager.dynamodb_periodic_table_inactive_enable_ondemand_throughput_mode`     | Enables on demand througput provisioning for the storage provider (if supported). Applies only to tables which are not autoscaled                                                                       | `NA`    |
| `table_manager.dynamodb_periodic_table_inactive_read_throughput`                     | DynamoDB table read throughput for inactive tables. (default 300)                                                                                                                                       | `NA`    |
| `table_manager.dynamodb_periodic_table_inactive_read_throughput_scale_last_n`        | Number of last inactive tables to enable read autoscale. (default 4)                                                                                                                                    | `NA`    |
| `table_manager.dynamodb_periodic_table_inactive_read_throughput_scale_enabled`       | Should we enable autoscale for the table.                                                                                                                                                               | `NA`    |
| `table_manager.dynamodb_periodic_table_inactive_read_throughput_scale_in_cooldown`   | DynamoDB minimum seconds between each autoscale down. (default 1800)                                                                                                                                    | `NA`    |
| `table_manager.dynamodb_periodic_table_inactive_read_throughput_scale_max_capacity`  | DynamoDB maximum provision capacity. (default 6000)                                                                                                                                                     | `NA`    |
| `table_manager.dynamodb_periodic_table_inactive_read_throughput_scale_min_capacity`  | DynamoDB minimum provision capacity. (default 3000)                                                                                                                                                     | `NA`    |
| `table_manager.dynamodb_periodic_table_inactive_read_throughput_scale_out_cooldown`  | DynamoDB minimum seconds between each autoscale up. (default 1800)                                                                                                                                      | `NA`    |
| `table_manager.dynamodb_periodic_table_inactive_read_throughput_scale_role_arn`      | AWS AutoScaling role ARN                                                                                                                                                                                | `NA`    |
| `table_manager.dynamodb_periodic_table_inactive_read_throughput_scale_target_value`  | DynamoDB target ratio of consumed capacity to provisioned capacity. (default 80)                                                                                                                        | `NA`    |
| `table_manager.dynamodb_periodic_table_inactive_write_throughput`                    | DynamoDB table write throughput for inactive tables. (default 1)                                                                                                                                        | `NA`    |
| `table_manager.dynamodb_periodic_table_inactive_write_throughput_scale_last_n`       | Number of last inactive tables to enable write autoscale. (default 4)                                                                                                                                   | `NA`    |
| `table_manager.dynamodb_periodic_table_inactive_write_throughput_scale_enabled`      | Should we enable autoscale for the table.                                                                                                                                                               | `NA`    |
| `table_manager.dynamodb_periodic_table_inactive_write_throughput_scale_in_cooldown`  | DynamoDB minimum seconds between each autoscale down. (default 1800)                                                                                                                                    | `NA`    |
| `table_manager.dynamodb_periodic_table_inactive_write_throughput_scale_max_capacity` | DynamoDB maximum provision capacity. (default 6000)                                                                                                                                                     | `NA`    |
| `table_manager.dynamodb_periodic_table_inactive_write_throughput_scale_min_capacity` | DynamoDB minimum provision capacity. (default 3000)                                                                                                                                                     | `NA`    |
| `table_manager.dynamodb_periodic_table_inactive_write_throughput_scale_out_cooldown` | DynamoDB minimum seconds between each autoscale up. (default 1800)                                                                                                                                      | `NA`    |
| `table_manager.dynamodb_periodic_table_inactive_write_throughput_scale_role_arn`     | AWS AutoScaling role ARN                                                                                                                                                                                | `NA`    |
| `table_manager.dynamodb_periodic_table_inactive_write_throughput_scale_target_value` | DynamoDB target ratio of consumed capacity to provisioned capacity. (default 80)                                                                                                                        | `NA`    |
| `table_manager.dynamodb_periodic_table_period`                                       | DynamoDB table period. (default 168h0m0s)                                                                                                                                                               | `NA`    |
| `table_manager.dynamodb_periodic_table_prefix`                                       | DynamoDB table prefix for period tables. (default "cortex_")                                                                                                                                            | `NA`    |
| `table_manager.dynamodb_periodic_table_read_throughput`                              | DynamoDB table default read throughput. (default 300)                                                                                                                                                   | `NA`    |
| `table_manager.dynamodb_periodic_table_read_throughput_scale_enabled`                | Should we enable autoscale for the table.                                                                                                                                                               | `NA`    |
| `table_manager.dynamodb_periodic_table_read_throughput_scale_in_cooldown`            | DynamoDB minimum seconds between each autoscale down. (default 1800)                                                                                                                                    | `NA`    |
| `table_manager.dynamodb_periodic_table_read_throughput_scale_max_capacity`           | DynamoDB maximum provision capacity. (default 6000)                                                                                                                                                     | `NA`    |
| `table_manager.dynamodb_periodic_table_read_throughput_scale_min_capacity`           | DynamoDB minimum provision capacity. (default 3000)                                                                                                                                                     | `NA`    |
| `table_manager.dynamodb_periodic_table_read_throughput_scale_out_cooldown`           | DynamoDB minimum seconds between each autoscale up. (default 1800)                                                                                                                                      | `NA`    |
| `table_manager.dynamodb_periodic_table_read_throughput_scale_role_arn`               | AWS AutoScaling role ARN                                                                                                                                                                                | `NA`    |
| `table_manager.dynamodb_periodic_table_read_throughput_scale_target_value`           | DynamoDB target ratio of consumed capacity to provisioned capacity. (default 80)                                                                                                                        | `NA`    |
| `table_manager.dynamodb_periodic_table_tag`                                          | Tag (of the form key=value) to be added to all tables under management.                                                                                                                                 | `NA`    |
| `table_manager.dynamodb_periodic_table_write_throughput`                             | DynamoDB table default write throughput. (default 3000)                                                                                                                                                 | `NA`    |
| `table_manager.dynamodb_periodic_table_write_throughput_scale_enabled`               | Should we enable autoscale for the table.                                                                                                                                                               | `NA`    |
| `table_manager.dynamodb_periodic_table_write_throughput_scale_in_cooldown`           | DynamoDB minimum seconds between each autoscale down. (default 1800)                                                                                                                                    | `NA`    |
| `table_manager.dynamodb_periodic_table_write_throughput_scale_max_capacity`          | DynamoDB maximum provision capacity. (default 6000)                                                                                                                                                     | `NA`    |
| `table_manager.dynamodb_periodic_table_write_throughput_scale_min_capacity`          | DynamoDB minimum provision capacity. (default 3000)                                                                                                                                                     | `NA`    |
| `table_manager.dynamodb_periodic_table_write_throughput_scale_out_cooldown`          | DynamoDB minimum seconds between each autoscale up. (default 1800)                                                                                                                                      | `NA`    |
| `table_manager.dynamodb_periodic_table_write_throughput_scale_role_arn`              | AWS AutoScaling role ARN                                                                                                                                                                                | `NA`    |
| `table_manager.dynamodb_periodic_table_write_throughput_scale_target_value`          | DynamoDB target ratio of consumed capacity to provisioned capacity. (default 80)                                                                                                                        | `NA`    |
| `table_manager.dynamodb_poll_interval`                                               | How frequently to poll DynamoDB to learn our capacity. (default 2m0s)                                                                                                                                   | `NA`    |
| `table_manager.dynamodb_url`                                                         | DynamoDB endpoint URL with escaped Key and Secret encoded. If only region is specified as a host, proper endpoint will be deduced. Use inmemory:///<table-name> to use a mock in-memory implementation. | `NA`    |
| `table_manager.dynamodb_use_periodic_tables`                                         | Should we use periodic tables.                                                                                                                                                                          | `NA`    |
| `table_manager.dynamodb_v4_schema_from`                                              | The date (in the format YYYY-MM-DD) after which we enable v4 schema.                                                                                                                                    | `NA`    |
| `table_manager.dynamodb_v5_schema_from`                                              | The date (in the format YYYY-MM-DD) after which we enable v5 schema.                                                                                                                                    | `NA`    |
| `table_manager.dynamodb_v6_schema_from`                                              | The date (in the format YYYY-MM-DD) after which we enable v6 schema.                                                                                                                                    | `NA`    |
| `table_manager.dynamodb_v9_schema_from`                                              | The date (in the format YYYY-MM-DD) after which we enable v9 schema (Series indexing).                                                                                                                  | `NA`    |
| `table_manager.gcs_bucketname`                                                       | Name of GCS bucket to put chunks in.                                                                                                                                                                    | `NA`    |
| `table_manager.httptest_serve`                                                       | if non-empty, httptest.NewServer serves on this address and blocks                                                                                                                                      | `NA`    |
| `table_manager.ingester_ID`                                                          | ID to register into consul. (default "b3e9b7f8b3b7")                                                                                                                                                    | `NA`    |
| `table_manager.ingester_addr`                                                        | IP address to advertise in consul.                                                                                                                                                                      | `NA`    |
| `table_manager.ingester_chunk_age_jitter`                                            | Range of time to subtract from MaxChunkAge to spread out flushes (default 20m0s)                                                                                                                        | `NA`    |
| `table_manager.ingester_claim_on_rollout`                                            | Send chunks to PENDING ingesters on exit.                                                                                                                                                               | `NA`    |
| `table_manager.ingester_concurrent_flushes`                                          | Number of concurrent goroutines flushing to dynamodb. (default 50)                                                                                                                                      | `NA`    |
| `table_manager.ingester_flush_op_timeout`                                            | Timeout for individual flush operations. (default 1m0s)                                                                                                                                                 | `NA`    |
| `table_manager.ingester_flush_period`                                                | Period with which to attempt to flush chunks. (default 1m0s)                                                                                                                                            | `NA`    |
| `table_manager.ingester_heartbeat_period`                                            | Period at which to heartbeat to consul. (default 5s)                                                                                                                                                    | `NA`    |
| `table_manager.ingester_interface`                                                   | Name of network interface to read address from. (default [eth0 en0])                                                                                                                                    | `NA`    |
| `table_manager.ingester_join_after`                                                  | Period to wait for a claim from another ingester; will join automatically after this.                                                                                                                   | `NA`    |
| `table_manager.ingester_max_chunk_age`                                               | Maximum chunk age before flushing. (default 12h0m0s)                                                                                                                                                    | `NA`    |
| `table_manager.ingester_max_chunk_idle`                                              | Maximum chunk idle time before flushing. (default 5m0s)                                                                                                                                                 | `NA`    |
| `table_manager.ingester_min_ready_duration`                                          | Minimum duration to wait before becoming ready. This is to work around race conditions with ingesters exiting and updating the ring. (default 1m0s)                                                     | `NA`    |
| `table_manager.ingester_normalise_tokens`                                            | Store tokens in a normalised fashion to reduce allocations.                                                                                                                                             | `NA`    |
| `table_manager.ingester_num_tokens`                                                  | Number of tokens for each ingester. (default 128)                                                                                                                                                       | `NA`    |
| `table_manager.ingester_port`                                                        | port to advertise in consul (defaults to server.grpc-listen-port).                                                                                                                                      | `NA`    |
| `table_manager.ingester_rate_update_period`                                          | Period with which to update the per-user ingestion rates. (default 15s)                                                                                                                                 | `NA`    |
| `table_manager.ingester_retain_period`                                               | Period chunks will remain in memory after flushing. (default 5m0s)                                                                                                                                      | `NA`    |
| `table_manager.ingester_search_pending_for`                                          | Time to spend searching for a pending ingester when shutting down. (default 30s)                                                                                                                        | `NA`    |
| `table_manager.local_chunk_directory`                                                | Directory to store chunks in.                                                                                                                                                                           | `NA`    |
| `table_manager.log_level`                                                            | Only log messages with the given severity or above. Valid levels: [debug, info, warn, error] (default info)                                                                                             | `NA`    |
| `table_manager.metrics_error_rate_query`                                             | query to fetch error rates per table (default "sum(rate(cortex_dynamo_failures_total{error="ProvisionedThroughputExceededException",operation=~".*Write.*"}[1m])) by (table) > 0")                      | `NA`    |
| `table_manager.metrics_queue_length_query`                                           | query to fetch ingester queue length (default "sum(avg_over_time(cortex_ingester_flush_queue_length{job="cortex/ingester"}[2m]))")                                                                      | `NA`    |
| `table_manager.metrics_read_error_query`                                             | query to fetch read errors per table (default "sum(increase(cortex_dynamo_failures_total{operation="DynamoDB.QueryPages",error="ProvisionedThroughputExceededException"}[1m])) by (table) > 0")         | `NA`    |
| `table_manager.metrics_read_usage_query`                                             | query to fetch read capacity usage per table (default "sum(rate(cortex_dynamo_consumed_capacity_total{operation="DynamoDB.QueryPages"}[1h])) by (table) > 0")                                           | `NA`    |
| `table_manager.metrics_scale_up_factor`                                              | Scale up capacity by this multiple (default 1.3)                                                                                                                                                        | `NA`    |
| `table_manager.metrics_target_queue_length`                                          | Queue length above which we will scale up capacity (default 100000)                                                                                                                                     | `NA`    |
| `table_manager.metrics_url`                                                          | Use metrics-based autoscaling, via this query URL                                                                                                                                                       | `NA`    |
| `table_manager.metrics_usage_query`                                                  | query to fetch write capacity usage per table (default "sum(rate(cortex_dynamo_consumed_capacity_total{operation="DynamoDB.BatchWriteItem"}[15m])) by (table) > 0")                                     | `NA`    |
| `table_manager.ring_heartbeat_timeout`                                               | The heartbeat timeout after which ingesters are skipped for reads/writes. (default 1m0s)                                                                                                                | `NA`    |
| `table_manager.ring_store`                                                           | Backend storage to use for the ring (consul, inmemory). (default "consul")                                                                                                                              | `NA`    |
| `table_manager.s3_url`                                                               | S3 endpoint URL with escaped Key and Secret encoded. If only region is specified as a host, proper endpoint will be deduced. Use inmemory:///<bucket-name> to use a mock in-memory implementation.      | `NA`    |
| `table_manager.server_graceful_shutdown_timeout`                                     | Timeout for graceful shutdowns (default 30s)                                                                                                                                                            | `NA`    |
| `table_manager.server_grpc_listen_port`                                              | gRPC server listen port. (default 9095)                                                                                                                                                                 | `NA`    |
| `table_manager.server_http_idle_timeout`                                             | Idle timeout for HTTP server (default 2m0s)                                                                                                                                                             | `NA`    |
| `table_manager.server_http_listen_port`                                              | HTTP server listen port. (default 80)                                                                                                                                                                   | `NA`    |
| `table_manager.server_http_read_timeout`                                             | Read timeout for HTTP server (default 30s)                                                                                                                                                              | `NA`    |
| `table_manager.server_http_write_timeout`                                            | Write timeout for HTTP server (default 30s)                                                                                                                                                             | `NA`    |
| `table_manager.server_register_instrumentation`                                      | Register the intrumentation handlers (/metrics etc). (default true)                                                                                                                                     | `NA`    |
| `table_manager.store_index_cache_read_cache_enable_diskcache`                        | Cache config for index entry reading. Enable on-disk cache.                                                                                                                                             | `NA`    |
| `table_manager.store_index_cache_read_cache_enable_fifocache`                        | Cache config for index entry reading. Enable in-memory cache.                                                                                                                                           | `NA`    |
| `table_manager.store_index_cache_read_default_validity`                              | Cache config for index entry reading. The default validity of entries for caches unless overridden.                                                                                                     | `NA`    |
| `table_manager.store_index_cache_read_diskcache_path`                                | Cache config for index entry reading. Path to file used to cache chunks. (default "/var/run/chunks")                                                                                                    | `NA`    |
| `table_manager.store_index_cache_read_diskcache_size`                                | Cache config for index entry reading. Size of file (bytes) (default 1073741824)                                                                                                                         | `NA`    |
| `table_manager.store_index_cache_read_fifocache_duration`                            | Cache config for index entry reading. The expiry duration for the cache.                                                                                                                                | `NA`    |
| `table_manager.store_index_cache_read_fifocache_size`                                | Cache config for index entry reading. The number of entries to cache.                                                                                                                                   | `NA`    |
| `table_manager.store_index_cache_read_memcache_write_back_buffer`                    | Cache config for index entry reading. How many chunks to buffer for background write back. (default 10000)                                                                                              | `NA`    |
| `table_manager.store_index_cache_read_memcache_write_back_goroutines`                | Cache config for index entry reading. How many goroutines to use to write back to memcache. (default 10)                                                                                                | `NA`    |
| `table_manager.store_index_cache_read_memcached_batchsize`                           | Cache config for index entry reading. How many keys to fetch in each batch.                                                                                                                             | `NA`    |
| `table_manager.store_index_cache_read_memcached_expiration`                          | Cache config for index entry reading. How long keys stay in the memcache.                                                                                                                               | `NA`    |
| `table_manager.store_index_cache_read_memcached_hostname`                            | Cache config for index entry reading. Hostname for memcached service to use when caching chunks. If empty, no memcached will be used.                                                                   | `NA`    |
| `table_manager.store_index_cache_read_memcached_max_idle_conns`                      | Cache config for index entry reading. Maximum number of idle connections in pool. (default 16)                                                                                                          | `NA`    |
| `table_manager.store_index_cache_read_memcached_parallelism`                         | Cache config for index entry reading. Maximum active requests to memcache. (default 100)                                                                                                                | `NA`    |
| `table_manager.store_index_cache_read_memcached_service`                             | Cache config for index entry reading. SRV service used to discover memcache servers. (default "memcached")                                                                                              | `NA`    |
| `table_manager.store_index_cache_read_memcached_timeout`                             | Cache config for index entry reading. Maximum time to wait before giving up on memcached requests. (default 100ms)                                                                                      | `NA`    |
| `table_manager.store_index_cache_read_memcached_update_interval`                     | Cache config for index entry reading. Period with which to poll DNS for memcache servers. (default 1m0s)                                                                                                | `NA`    |
| `table_manager.store_index_cache_validity`                                           | Cache validity for active index entries. Should be no higher than -ingester.max-chunk-idle. (default 5m0s)                                                                                              | `NA`    |
| `table_manager.table_manager_retention_deletes_enabled`                              | If true, enables retention deletes of DB tables                                                                                                                                                         | `NA`    |
| `table_manager.table_manager_retention_period`                                       | Tables older than this retention period are deleted. Note: This setting is destructive to data!(default: 0, which disables deletion)                                                                    | `NA`    |
| `table_manager.table_manager_throughput_updates_disabled`                            | If true, disable all changes to DB capacity                                                                                                                                                             | `NA`    |

### Nginx

#### Chart parameters
| Parameter | Description  | Default |
|-----------|--------------|---------|
| `nginx.affinity` | Assign the service to run on specific nodes | `{}` |
| `nginx.enabled` | Deploy service | `true` |
| `nginx.image.repository` | Base image to use for a service deployment | `nginx` |
| `nginx.image.tag` | Tag of service container image to be deployed | `1.14.2` |
| `nginx.image.pullPolicy` | Pull policy for service image | `IfNotPresent` |
| `nginx.nodeSelector` | Define which Nodes the Pods are scheduled on. | `{}` |  
| `nginx.replicaCount` | Size is the expected size of the service cluster. | `1` |  
| `nginx.service.annotations` | Kubernetes service annotations | `{}` |  
| `nginx.service.nodePort` | Node port for the nginx service runs on | `30080` |
| `nginx.service.port` | Port for the nginx service runs on | `80` |    
| `nginx.service.type` | Service type | `ClusterIP` |  
| `nginx.servicemonitor.enabled` | Enable monitoring of service using prometheus operator | `false` |  
| `nginx.servicemonitor.labels` | Servicemonitor labels | `{}` |  
| `nginx.servicemonitor.namespace` | Namespace to deploy servicemonitor to | `"{{ .Release.Namespace }}"` |  
| `nginx.servicemonitor.port` | Port for servicemonitor | `9090` |
| `nginx.servicemonitor.exporter.pullPolicy` | Pull policy for metric exporter image | `IfNotPresent` |  
| `nginx.servicemonitor.exporter.repository` | Repository for metric exporter image | `nginx/nginx-prometheus-exporter` |  
| `nginx.servicemonitor.exporter.resources` | Resources for metric exporter container | `{}` |  
| `nginx.servicemonitor.exporter.tag` | Tag for metric exporter image | `0.2.0` |  
| `nginx.tolerations` | Tolerations for use with node taints | `[]` |
| `nginx.resources` | Define resources requests and limits for single Pods | `{}` |  
